[2012-08-13 10:28:51,461] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] connected([id: 0x34c9dd20, /10.28.247.250:30120 => /10.28.120.11:8082])
[2012-08-13 10:28:53,711] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] Created channel 34617355556-[id: 0x34c9dd20, /10.28.247.250:30120 => /10.28.120.11:8082]
[2012-08-13 10:28:53,711] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 10:28:53,712] DEBUG |pool-1-thread-7| [ TimestampDecorator            ] Appending reception timestamp to message with uuid e63c8dd7-1e6d-4247-b6c3-fb36d1c79f1e.
[2012-08-13 10:28:53,712] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 10:28:53,712] DEBUG |pool-1-thread-7| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 10:28:53,712] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 10:28:53,713] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 10:28:53,713] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:28:53,713] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:28:54,202] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:28:54,203] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching SE with ES
[2012-08-13 10:28:54,203] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"e63c8dd7-1e6d-4247-b6c3-fb36d1c79f1e","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":2745},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:53.712Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:28:54,203] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:28:54,203] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"e63c8dd7-1e6d-4247-b6c3-fb36d1c79f1e","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":2745},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:53.712Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:28:54,203] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:28:54,203] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:28:54,320] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:28:54,320] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching IT with ES
[2012-08-13 10:28:54,320] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"e63c8dd7-1e6d-4247-b6c3-fb36d1c79f1e","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":2745},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:53.712Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:28:54,320] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:28:54,320] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByState(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:28:54,538] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the postal codes [03189 (Campoamor): 1.16612 km, 03191 (Mil Palmeras): 4.09263 km] for location [37.9033343, -0.7459349].
[2012-08-13 10:28:54,539] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PUE with VC
[2012-08-13 10:28:54,539] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PUE with VC
[2012-08-13 10:28:54,539] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"e63c8dd7-1e6d-4247-b6c3-fb36d1c79f1e","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":2745},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:53.712Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:28:54,539] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:28:54,539] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:28:54,656] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:28:54,656] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PH with ES
[2012-08-13 10:28:54,656] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"e63c8dd7-1e6d-4247-b6c3-fb36d1c79f1e","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":2745},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:53.712Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:28:54,656] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:28:54,656] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:28:54,765] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:28:54,766] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching ES with ES
[2012-08-13 10:28:54,766] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] ES matches ES
[2012-08-13 10:28:54,766] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'spain' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"e63c8dd7-1e6d-4247-b6c3-fb36d1c79f1e","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":2745},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:53.712Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:28:54,766] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 10:28:54,766] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:28:54,766] DEBUG |pool-1-thread-7| [ PsapNameDecorator             ] Responding to connect request with AP name Spain (demo).
[2012-08-13 10:28:54,767] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"e63c8dd7-1e6d-4247-b6c3-fb36d1c79f1e","result":{"ap":{"name":"Spain (demo)"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:28:54,767] DEBUG |bus-worker-21  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: e63c8dd7-1e6d-4247-b6c3-fb36d1c79f1e.
[2012-08-13 10:28:54,767] DEBUG |bus-worker-21  | [ GuavaEventBus                 ] Invoking callback for: e63c8dd7-1e6d-4247-b6c3-fb36d1c79f1e.
[2012-08-13 10:28:54,768] DEBUG |bus-worker-21  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"e63c8dd7-1e6d-4247-b6c3-fb36d1c79f1e","result":{"ap":{"name":"Spain (demo)"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}} => [id: 0x34c9dd20, /10.28.247.250:30120 => /10.28.120.11:8082]
[2012-08-13 10:28:54,768] DEBUG |bus-worker-21  | [ ClientWebSocketEndPoint       ] Wrote response payload to 34617355556: true.
[2012-08-13 10:28:54,768] DEBUG |bus-worker-4   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"e63c8dd7-1e6d-4247-b6c3-fb36d1c79f1e","result":{"ap":{"name":"Spain (demo)"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:28:54,769] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 10:28:54,769] DEBUG |pool-1-thread-3| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 51ea2f4e-7c1f-4d72-8b2f-d138ac860bb6.
[2012-08-13 10:28:54,770] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 10:28:54,770] DEBUG |pool-1-thread-3| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 10:28:54,770] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 10:28:54,770] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 10:28:54,770] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 10:28:54,770] DEBUG |bus-worker-10  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"51ea2f4e-7c1f-4d72-8b2f-d138ac860bb6","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":2745},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:54.769Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}}
[2012-08-13 10:28:54,770] DEBUG |bus-worker-10  | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='34617355556'}}
[2012-08-13 10:28:54,771] INFO  |bus-worker-10  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"51ea2f4e-7c1f-4d72-8b2f-d138ac860bb6","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":2745},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:54.769Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}})
[2012-08-13 10:28:54,771] DEBUG |bus-worker-10  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"51ea2f4e-7c1f-4d72-8b2f-d138ac860bb6","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":2745},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:54.769Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}} => [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083]
[2012-08-13 10:28:54,772] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"e63c8dd7-1e6d-4247-b6c3-fb36d1c79f1e","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":2745},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 10:28:54,777] DEBUG | I/O  worker #4| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"51ea2f4e-7c1f-4d72-8b2f-d138ac860bb6","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083].
[2012-08-13 10:28:54,777] DEBUG | I/O  worker #4| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"51ea2f4e-7c1f-4d72-8b2f-d138ac860bb6","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 10:28:54,778] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 51ea2f4e-7c1f-4d72-8b2f-d138ac860bb6.
[2012-08-13 10:28:54,778] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Unable to match: 51ea2f4e-7c1f-4d72-8b2f-d138ac860bb6.
[2012-08-13 10:28:54,778] DEBUG |bus-worker-13  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"51ea2f4e-7c1f-4d72-8b2f-d138ac860bb6","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 10:28:55,312] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 10:28:55,312] DEBUG |pool-1-thread-5| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 3b5d6f1a-f8e1-45c4-8017-357d5f723659.
[2012-08-13 10:28:55,313] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 10:28:55,313] DEBUG |pool-1-thread-5| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 10:28:55,313] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 10:28:55,313] DEBUG |pool-1-thread-5| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 10:28:55,313] DEBUG |pool-1-thread-5| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:28:55,313] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:28:55,427] DEBUG |pool-1-thread-5| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:28:55,427] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] Matching SE with ES
[2012-08-13 10:28:55,427] DEBUG |pool-1-thread-5| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"3b5d6f1a-f8e1-45c4-8017-357d5f723659","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":4487},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:55.312Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:28:55,428] DEBUG |pool-1-thread-5| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:28:55,428] DEBUG |pool-1-thread-5| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"3b5d6f1a-f8e1-45c4-8017-357d5f723659","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":4487},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:55.312Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:28:55,428] DEBUG |pool-1-thread-5| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:28:55,428] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:28:55,544] DEBUG |pool-1-thread-5| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:28:55,544] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] Matching IT with ES
[2012-08-13 10:28:55,544] DEBUG |pool-1-thread-5| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"3b5d6f1a-f8e1-45c4-8017-357d5f723659","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":4487},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:55.312Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:28:55,544] DEBUG |pool-1-thread-5| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:28:55,544] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] matchByState(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:28:55,651] DEBUG |pool-1-thread-5| [ GeonamesLocationFinder        ] Found the postal codes [03189 (Campoamor): 1.16612 km, 03191 (Mil Palmeras): 4.09263 km] for location [37.9033343, -0.7459349].
[2012-08-13 10:28:55,651] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] Matching PUE with VC
[2012-08-13 10:28:55,651] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] Matching PUE with VC
[2012-08-13 10:28:55,651] DEBUG |pool-1-thread-5| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"3b5d6f1a-f8e1-45c4-8017-357d5f723659","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":4487},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:55.312Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:28:55,651] DEBUG |pool-1-thread-5| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:28:55,651] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:28:55,763] DEBUG |pool-1-thread-5| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:28:55,763] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] Matching PH with ES
[2012-08-13 10:28:55,763] DEBUG |pool-1-thread-5| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"3b5d6f1a-f8e1-45c4-8017-357d5f723659","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":4487},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:55.312Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:28:55,763] DEBUG |pool-1-thread-5| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:28:55,763] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:28:55,880] DEBUG |pool-1-thread-5| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:28:55,880] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] Matching ES with ES
[2012-08-13 10:28:55,880] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] ES matches ES
[2012-08-13 10:28:55,880] DEBUG |pool-1-thread-5| [ PsapFinderImpl                ] Psap 'spain' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"3b5d6f1a-f8e1-45c4-8017-357d5f723659","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":4487},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:55.312Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:28:55,881] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 10:28:55,881] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 10:28:55,882] DEBUG |bus-worker-22  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"3b5d6f1a-f8e1-45c4-8017-357d5f723659","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":4487},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:55.312Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}}
[2012-08-13 10:28:55,883] INFO  |bus-worker-26  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"3b5d6f1a-f8e1-45c4-8017-357d5f723659","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":4487},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:55.312Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}})
[2012-08-13 10:28:55,883] DEBUG |bus-worker-26  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"3b5d6f1a-f8e1-45c4-8017-357d5f723659","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":4487},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:28:55.312Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}} => [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083]
[2012-08-13 10:28:55,889] DEBUG | I/O  worker #4| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"3b5d6f1a-f8e1-45c4-8017-357d5f723659","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083].
[2012-08-13 10:28:55,890] DEBUG | I/O  worker #4| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"3b5d6f1a-f8e1-45c4-8017-357d5f723659","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 10:28:55,890] DEBUG |bus-worker-30  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 3b5d6f1a-f8e1-45c4-8017-357d5f723659.
[2012-08-13 10:28:55,890] DEBUG |bus-worker-30  | [ GuavaEventBus                 ] Invoking callback for: 3b5d6f1a-f8e1-45c4-8017-357d5f723659.
[2012-08-13 10:28:55,893] DEBUG |bus-worker-30  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"3b5d6f1a-f8e1-45c4-8017-357d5f723659","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"} => [id: 0x34c9dd20, /10.28.247.250:30120 => /10.28.120.11:8082]
[2012-08-13 10:28:55,894] DEBUG |bus-worker-30  | [ ClientWebSocketEndPoint       ] Wrote response payload to 34617355556: true.
[2012-08-13 10:28:55,890] DEBUG |bus-worker-1   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"3b5d6f1a-f8e1-45c4-8017-357d5f723659","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 10:42:10,472] ERROR |pool-3-thread-1| [ FsPsapRepository              ] Failed to parse psap-spain.json:No content to map to Object due to end of input
[2012-08-13 10:42:10,589] ERROR |pool-3-thread-1| [ FsPsapRepository              ] 
java.io.EOFException: No content to map to Object due to end of input
	at org.codehaus.jackson.map.ObjectMapper._initForReading(ObjectMapper.java:2775)
	at org.codehaus.jackson.map.ObjectMapper._readMapAndClose(ObjectMapper.java:2718)
	at org.codehaus.jackson.map.ObjectMapper.readValue(ObjectMapper.java:1817)
	at org.fress.server.psapfinder.internal.FsPsapRepository$ConfigFileScanner.scanDirectory(FsPsapRepository.java:87)
	at org.fress.server.psapfinder.internal.FsPsapRepository$ConfigFileScanner.runOneIteration(FsPsapRepository.java:98)
	at com.google.common.util.concurrent.AbstractScheduledService$1$1.run(AbstractScheduledService.java:169)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
[2012-08-13 10:44:23,085] DEBUG | I/O  worker #2| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='34617355556'}},[id: 0x34c9dd20, /10.28.247.250:30120 :> /10.28.120.11:8082].
[2012-08-13 10:44:23,085] DEBUG | I/O  worker #2| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 10:44:23,085] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] disconnected([id: 0x34c9dd20, /10.28.247.250:30120 :> /10.28.120.11:8082])
[2012-08-13 10:44:23,086] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 10:44:23,086] DEBUG |pool-1-thread-4| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 89605a6f-f7b6-41a0-a754-8e45ed313be9.
[2012-08-13 10:44:23,086] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 10:44:23,086] DEBUG |pool-1-thread-4| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 10:44:23,086] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 10:44:23,087] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 10:44:23,087] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 10:44:23,087] DEBUG |bus-worker-4   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"89605a6f-f7b6-41a0-a754-8e45ed313be9","params":{"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:44:23.086Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}}
[2012-08-13 10:44:23,087] DEBUG |bus-worker-6   | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='34617355556'}}
[2012-08-13 10:44:23,088] INFO  |bus-worker-18  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"89605a6f-f7b6-41a0-a754-8e45ed313be9","params":{"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:44:23.086Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}})
[2012-08-13 10:44:23,088] DEBUG |bus-worker-18  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"89605a6f-f7b6-41a0-a754-8e45ed313be9","params":{"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:44:23.086Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}} => [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083]
[2012-08-13 10:44:23,094] DEBUG | I/O  worker #4| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"89605a6f-f7b6-41a0-a754-8e45ed313be9","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083].
[2012-08-13 10:44:23,094] DEBUG | I/O  worker #4| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"89605a6f-f7b6-41a0-a754-8e45ed313be9","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 10:44:23,094] DEBUG |bus-worker-5   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 89605a6f-f7b6-41a0-a754-8e45ed313be9.
[2012-08-13 10:44:23,095] DEBUG |bus-worker-5   | [ GuavaEventBus                 ] Unable to match: 89605a6f-f7b6-41a0-a754-8e45ed313be9.
[2012-08-13 10:44:23,095] DEBUG |bus-worker-10  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"89605a6f-f7b6-41a0-a754-8e45ed313be9","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 10:45:09,515] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] connected([id: 0x7cf37ccf, /10.28.247.250:19385 => /10.28.120.11:8082])
[2012-08-13 10:45:10,894] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] Created channel 34617355556-[id: 0x7cf37ccf, /10.28.247.250:19385 => /10.28.120.11:8082]
[2012-08-13 10:45:10,894] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 10:45:10,894] DEBUG |pool-1-thread-8| [ TimestampDecorator            ] Appending reception timestamp to message with uuid fce31f54-b648-42a0-ba8e-544e47b25037.
[2012-08-13 10:45:10,895] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 10:45:10,895] DEBUG |pool-1-thread-8| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 10:45:10,895] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 10:45:10,895] DEBUG |pool-1-thread-8| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 10:45:10,895] DEBUG |pool-1-thread-8| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:45:10,895] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:45:11,381] DEBUG |pool-1-thread-8| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:45:11,381] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] Matching SE with ES
[2012-08-13 10:45:11,381] DEBUG |pool-1-thread-8| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"fce31f54-b648-42a0-ba8e-544e47b25037","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":980029},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:45:10.895Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:45:11,381] DEBUG |pool-1-thread-8| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:45:11,381] DEBUG |pool-1-thread-8| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"fce31f54-b648-42a0-ba8e-544e47b25037","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":980029},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:45:10.895Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:45:11,381] DEBUG |pool-1-thread-8| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:45:11,381] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:45:11,497] DEBUG |pool-1-thread-8| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:45:11,497] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] Matching IT with ES
[2012-08-13 10:45:11,497] DEBUG |pool-1-thread-8| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"fce31f54-b648-42a0-ba8e-544e47b25037","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":980029},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:45:10.895Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:45:11,497] DEBUG |pool-1-thread-8| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:45:11,497] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] matchByState(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:45:11,605] DEBUG |pool-1-thread-8| [ GeonamesLocationFinder        ] Found the postal codes [03189 (Campoamor): 1.16612 km, 03191 (Mil Palmeras): 4.09263 km] for location [37.9033343, -0.7459349].
[2012-08-13 10:45:11,605] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] Matching PUE with VC
[2012-08-13 10:45:11,605] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] Matching PUE with VC
[2012-08-13 10:45:11,606] DEBUG |pool-1-thread-8| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"fce31f54-b648-42a0-ba8e-544e47b25037","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":980029},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:45:10.895Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:45:11,606] DEBUG |pool-1-thread-8| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:45:11,606] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:45:11,719] DEBUG |pool-1-thread-8| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:45:11,719] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] Matching PH with ES
[2012-08-13 10:45:11,719] DEBUG |pool-1-thread-8| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"fce31f54-b648-42a0-ba8e-544e47b25037","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":980029},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:45:10.895Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:45:11,719] DEBUG |pool-1-thread-8| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:45:11,720] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:45:11,829] DEBUG |pool-1-thread-8| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:45:11,829] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] Matching ES with ES
[2012-08-13 10:45:11,829] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] ES matches ES
[2012-08-13 10:45:11,829] DEBUG |pool-1-thread-8| [ PsapFinderImpl                ] Psap 'spain' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"fce31f54-b648-42a0-ba8e-544e47b25037","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":980029},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:45:10.895Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:45:11,829] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 10:45:11,830] DEBUG |pool-1-thread-8| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:45:11,830] DEBUG |pool-1-thread-8| [ PsapNameDecorator             ] Responding to connect request with AP name Spain (demo).
[2012-08-13 10:45:11,830] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"fce31f54-b648-42a0-ba8e-544e47b25037","result":{"ap":{"name":"Spain (demo)"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:45:11,830] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: fce31f54-b648-42a0-ba8e-544e47b25037.
[2012-08-13 10:45:11,831] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Invoking callback for: fce31f54-b648-42a0-ba8e-544e47b25037.
[2012-08-13 10:45:11,831] DEBUG |bus-worker-29  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"fce31f54-b648-42a0-ba8e-544e47b25037","result":{"ap":{"name":"Spain (demo)"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}} => [id: 0x7cf37ccf, /10.28.247.250:19385 => /10.28.120.11:8082]
[2012-08-13 10:45:11,832] DEBUG |bus-worker-29  | [ ClientWebSocketEndPoint       ] Wrote response payload to 34617355556: true.
[2012-08-13 10:45:11,832] DEBUG |bus-worker-13  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"fce31f54-b648-42a0-ba8e-544e47b25037","result":{"ap":{"name":"Spain (demo)"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:45:11,833] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 10:45:11,833] DEBUG |pool-1-thread-9| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 4c228b8b-11a3-4187-b52f-589f3a5147bc.
[2012-08-13 10:45:11,834] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 10:45:11,834] DEBUG |pool-1-thread-9| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 10:45:11,834] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 10:45:11,834] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 10:45:11,834] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 10:45:11,834] DEBUG |bus-worker-12  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"4c228b8b-11a3-4187-b52f-589f3a5147bc","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":980029},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:45:11.833Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}}
[2012-08-13 10:45:11,835] DEBUG |bus-worker-24  | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='34617355556'}}
[2012-08-13 10:45:11,835] INFO  |bus-worker-3   | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"4c228b8b-11a3-4187-b52f-589f3a5147bc","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":980029},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:45:11.833Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}})
[2012-08-13 10:45:11,835] DEBUG |bus-worker-3   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"4c228b8b-11a3-4187-b52f-589f3a5147bc","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":980029},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:45:11.833Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}} => [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083]
[2012-08-13 10:45:11,836] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"fce31f54-b648-42a0-ba8e-544e47b25037","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":980029},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 10:45:11,842] DEBUG | I/O  worker #4| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"4c228b8b-11a3-4187-b52f-589f3a5147bc","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083].
[2012-08-13 10:45:11,842] DEBUG | I/O  worker #4| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"4c228b8b-11a3-4187-b52f-589f3a5147bc","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 10:45:11,842] DEBUG |bus-worker-30  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 4c228b8b-11a3-4187-b52f-589f3a5147bc.
[2012-08-13 10:45:11,843] DEBUG |bus-worker-30  | [ GuavaEventBus                 ] Unable to match: 4c228b8b-11a3-4187-b52f-589f3a5147bc.
[2012-08-13 10:45:11,842] DEBUG |bus-worker-1   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"4c228b8b-11a3-4187-b52f-589f3a5147bc","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 10:59:03,081] DEBUG | I/O  worker #1| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='34617355556'}},[id: 0x7cf37ccf, /10.28.247.250:19385 :> /10.28.120.11:8082].
[2012-08-13 10:59:03,081] DEBUG | I/O  worker #1| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 10:59:03,082] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 10:59:03,082] DEBUG |pool-1-thread-2| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 207187c6-60bb-4c45-8c75-d914562cf7bf.
[2012-08-13 10:59:03,082] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 10:59:03,082] DEBUG |pool-1-thread-2| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 10:59:03,082] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 10:59:03,083] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 10:59:03,083] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 10:59:03,083] DEBUG |bus-worker-6   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"207187c6-60bb-4c45-8c75-d914562cf7bf","params":{"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:03.082Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}}
[2012-08-13 10:59:03,083] DEBUG |bus-worker-8   | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='34617355556'}}
[2012-08-13 10:59:03,084] INFO  |bus-worker-17  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"207187c6-60bb-4c45-8c75-d914562cf7bf","params":{"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:03.082Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}})
[2012-08-13 10:59:03,084] DEBUG |bus-worker-17  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"207187c6-60bb-4c45-8c75-d914562cf7bf","params":{"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:03.082Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}} => [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083]
[2012-08-13 10:59:03,085] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] disconnected([id: 0x7cf37ccf, /10.28.247.250:19385 :> /10.28.120.11:8082])
[2012-08-13 10:59:03,090] DEBUG | I/O  worker #4| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"207187c6-60bb-4c45-8c75-d914562cf7bf","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083].
[2012-08-13 10:59:03,091] DEBUG | I/O  worker #4| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"207187c6-60bb-4c45-8c75-d914562cf7bf","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 10:59:03,091] DEBUG |bus-worker-10  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 207187c6-60bb-4c45-8c75-d914562cf7bf.
[2012-08-13 10:59:03,091] DEBUG |bus-worker-10  | [ GuavaEventBus                 ] Unable to match: 207187c6-60bb-4c45-8c75-d914562cf7bf.
[2012-08-13 10:59:03,091] DEBUG |bus-worker-11  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"207187c6-60bb-4c45-8c75-d914562cf7bf","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 10:59:08,195] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] connected([id: 0x7cde692c, /10.28.247.250:56428 => /10.28.120.11:8082])
[2012-08-13 10:59:09,555] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] Created channel 34617355556-[id: 0x7cde692c, /10.28.247.250:56428 => /10.28.120.11:8082]
[2012-08-13 10:59:09,556] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 10:59:09,556] DEBUG |pool-1-thread-6| [ TimestampDecorator            ] Appending reception timestamp to message with uuid b8970281-7068-48e1-a88a-586a53d26026.
[2012-08-13 10:59:09,556] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 10:59:09,556] DEBUG |pool-1-thread-6| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 10:59:09,557] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 10:59:09,557] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 10:59:09,557] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:59:09,557] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:59:09,964] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:59:09,964] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching SE with ES
[2012-08-13 10:59:09,964] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"b8970281-7068-48e1-a88a-586a53d26026","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1819015},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:09.556Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:59:09,964] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:59:09,964] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"b8970281-7068-48e1-a88a-586a53d26026","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1819015},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:09.556Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:59:09,964] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:59:09,964] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:59:10,083] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:59:10,083] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching IT with ES
[2012-08-13 10:59:10,083] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"b8970281-7068-48e1-a88a-586a53d26026","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1819015},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:09.556Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:59:10,083] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:59:10,083] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByState(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:59:10,262] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the postal codes [03189 (Campoamor): 1.16612 km, 03191 (Mil Palmeras): 4.09263 km] for location [37.9033343, -0.7459349].
[2012-08-13 10:59:10,262] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching PUE with VC
[2012-08-13 10:59:10,262] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching PUE with VC
[2012-08-13 10:59:10,262] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"b8970281-7068-48e1-a88a-586a53d26026","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1819015},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:09.556Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:59:10,262] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:59:10,263] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:59:10,381] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:59:10,381] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching PH with ES
[2012-08-13 10:59:10,381] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"b8970281-7068-48e1-a88a-586a53d26026","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1819015},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:09.556Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:59:10,381] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:59:10,381] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:59:10,500] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:59:10,501] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching ES with ES
[2012-08-13 10:59:10,501] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] ES matches ES
[2012-08-13 10:59:10,501] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'spain' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"b8970281-7068-48e1-a88a-586a53d26026","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1819015},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:09.556Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:59:10,501] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 10:59:10,501] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:59:10,501] DEBUG |pool-1-thread-6| [ PsapNameDecorator             ] Responding to connect request with AP name Spain (demo).
[2012-08-13 10:59:10,502] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"b8970281-7068-48e1-a88a-586a53d26026","result":{"ap":{"name":"Spain (demo)"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:59:10,502] DEBUG |bus-worker-13  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: b8970281-7068-48e1-a88a-586a53d26026.
[2012-08-13 10:59:10,502] DEBUG |bus-worker-13  | [ GuavaEventBus                 ] Invoking callback for: b8970281-7068-48e1-a88a-586a53d26026.
[2012-08-13 10:59:10,503] DEBUG |bus-worker-13  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"b8970281-7068-48e1-a88a-586a53d26026","result":{"ap":{"name":"Spain (demo)"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}} => [id: 0x7cde692c, /10.28.247.250:56428 => /10.28.120.11:8082]
[2012-08-13 10:59:10,504] DEBUG |bus-worker-13  | [ ClientWebSocketEndPoint       ] Wrote response payload to 34617355556: true.
[2012-08-13 10:59:10,504] DEBUG |bus-worker-22  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"b8970281-7068-48e1-a88a-586a53d26026","result":{"ap":{"name":"Spain (demo)"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:59:10,505] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 10:59:10,505] DEBUG |pool-1-thread-1| [ TimestampDecorator            ] Appending reception timestamp to message with uuid b04b2837-9490-4517-b0c5-43ae3f0e9e3c.
[2012-08-13 10:59:10,505] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 10:59:10,505] DEBUG |pool-1-thread-1| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 10:59:10,505] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 10:59:10,505] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 10:59:10,505] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 10:59:10,506] DEBUG |bus-worker-23  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"b04b2837-9490-4517-b0c5-43ae3f0e9e3c","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1819015},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:10.505Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}}
[2012-08-13 10:59:10,506] DEBUG |bus-worker-15  | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='34617355556'}}
[2012-08-13 10:59:10,507] INFO  |bus-worker-28  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"b04b2837-9490-4517-b0c5-43ae3f0e9e3c","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1819015},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:10.505Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}})
[2012-08-13 10:59:10,507] DEBUG |bus-worker-28  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"b04b2837-9490-4517-b0c5-43ae3f0e9e3c","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1819015},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:10.505Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}} => [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083]
[2012-08-13 10:59:10,508] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"b8970281-7068-48e1-a88a-586a53d26026","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1819015},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 10:59:10,513] DEBUG | I/O  worker #4| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"b04b2837-9490-4517-b0c5-43ae3f0e9e3c","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083].
[2012-08-13 10:59:10,513] DEBUG | I/O  worker #4| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"b04b2837-9490-4517-b0c5-43ae3f0e9e3c","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 10:59:10,513] DEBUG |bus-worker-30  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: b04b2837-9490-4517-b0c5-43ae3f0e9e3c.
[2012-08-13 10:59:10,514] DEBUG |bus-worker-30  | [ GuavaEventBus                 ] Unable to match: b04b2837-9490-4517-b0c5-43ae3f0e9e3c.
[2012-08-13 10:59:10,513] DEBUG |bus-worker-1   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"b04b2837-9490-4517-b0c5-43ae3f0e9e3c","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 10:59:10,926] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 10:59:10,926] DEBUG |ool-1-thread-10| [ TimestampDecorator            ] Appending reception timestamp to message with uuid aa804c60-16c3-4263-a72f-9909eed89451.
[2012-08-13 10:59:10,927] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 10:59:10,927] DEBUG |ool-1-thread-10| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 10:59:10,927] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 10:59:10,927] DEBUG |ool-1-thread-10| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 10:59:10,927] DEBUG |ool-1-thread-10| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:59:10,927] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:59:11,040] DEBUG |ool-1-thread-10| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:59:11,040] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] Matching SE with ES
[2012-08-13 10:59:11,040] DEBUG |ool-1-thread-10| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"aa804c60-16c3-4263-a72f-9909eed89451","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1820392},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:10.926Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:59:11,040] DEBUG |ool-1-thread-10| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:59:11,040] DEBUG |ool-1-thread-10| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"aa804c60-16c3-4263-a72f-9909eed89451","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1820392},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:10.926Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:59:11,040] DEBUG |ool-1-thread-10| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:59:11,041] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:59:11,151] DEBUG |ool-1-thread-10| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:59:11,151] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] Matching IT with ES
[2012-08-13 10:59:11,151] DEBUG |ool-1-thread-10| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"aa804c60-16c3-4263-a72f-9909eed89451","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1820392},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:10.926Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:59:11,151] DEBUG |ool-1-thread-10| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:59:11,151] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] matchByState(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:59:11,259] DEBUG |ool-1-thread-10| [ GeonamesLocationFinder        ] Found the postal codes [03189 (Campoamor): 1.16612 km, 03191 (Mil Palmeras): 4.09263 km] for location [37.9033343, -0.7459349].
[2012-08-13 10:59:11,259] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] Matching PUE with VC
[2012-08-13 10:59:11,259] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] Matching PUE with VC
[2012-08-13 10:59:11,259] DEBUG |ool-1-thread-10| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"aa804c60-16c3-4263-a72f-9909eed89451","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1820392},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:10.926Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:59:11,260] DEBUG |ool-1-thread-10| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:59:11,260] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:59:11,373] DEBUG |ool-1-thread-10| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:59:11,373] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] Matching PH with ES
[2012-08-13 10:59:11,373] DEBUG |ool-1-thread-10| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"aa804c60-16c3-4263-a72f-9909eed89451","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1820392},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:10.926Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:59:11,373] DEBUG |ool-1-thread-10| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 10:59:11,373] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 10:59:11,487] DEBUG |ool-1-thread-10| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 10:59:11,487] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] Matching ES with ES
[2012-08-13 10:59:11,488] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] ES matches ES
[2012-08-13 10:59:11,488] DEBUG |ool-1-thread-10| [ PsapFinderImpl                ] Psap 'spain' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"aa804c60-16c3-4263-a72f-9909eed89451","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1820392},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:10.926Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 10:59:11,488] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 10:59:11,488] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 10:59:11,489] DEBUG |bus-worker-8   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"aa804c60-16c3-4263-a72f-9909eed89451","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1820392},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:10.926Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}}
[2012-08-13 10:59:11,490] INFO  |bus-worker-20  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"aa804c60-16c3-4263-a72f-9909eed89451","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1820392},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:10.926Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}})
[2012-08-13 10:59:11,490] DEBUG |bus-worker-20  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"aa804c60-16c3-4263-a72f-9909eed89451","params":{"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1820392},"personal_info":{"full_name":"Ernest Berkhout","gender":"Male","home_address":"Murcia, Spain","birth_year":"1962-12-26","blood_type":"Don't know","ice_numbers":["ICE: +34600464377"],"language":"es","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T10:59:10.926Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}} => [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083]
[2012-08-13 10:59:11,501] DEBUG | I/O  worker #4| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"aa804c60-16c3-4263-a72f-9909eed89451","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083].
[2012-08-13 10:59:11,501] DEBUG | I/O  worker #4| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"aa804c60-16c3-4263-a72f-9909eed89451","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 10:59:11,501] DEBUG |bus-worker-11  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: aa804c60-16c3-4263-a72f-9909eed89451.
[2012-08-13 10:59:11,502] DEBUG |bus-worker-11  | [ GuavaEventBus                 ] Invoking callback for: aa804c60-16c3-4263-a72f-9909eed89451.
[2012-08-13 10:59:11,502] DEBUG |bus-worker-11  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"aa804c60-16c3-4263-a72f-9909eed89451","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"} => [id: 0x7cde692c, /10.28.247.250:56428 => /10.28.120.11:8082]
[2012-08-13 10:59:11,502] DEBUG |bus-worker-11  | [ ClientWebSocketEndPoint       ] Wrote response payload to 34617355556: true.
[2012-08-13 10:59:11,501] DEBUG |bus-worker-29  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"aa804c60-16c3-4263-a72f-9909eed89451","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 11:00:11,081] DEBUG | I/O  worker #2| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='34617355556'}},[id: 0x7cde692c, /10.28.247.250:56428 :> /10.28.120.11:8082].
[2012-08-13 11:00:11,081] DEBUG | I/O  worker #2| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 11:00:11,082] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 11:00:11,082] DEBUG |pool-1-thread-3| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 22db26ad-91c8-4c03-9a0d-d3cf4f23c20d.
[2012-08-13 11:00:11,082] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 11:00:11,082] DEBUG |pool-1-thread-3| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 11:00:11,082] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 11:00:11,083] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 11:00:11,083] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 11:00:11,083] DEBUG |bus-worker-22  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"22db26ad-91c8-4c03-9a0d-d3cf4f23c20d","params":{"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:00:11.082Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}}
[2012-08-13 11:00:11,083] DEBUG |bus-worker-12  | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='34617355556'}}
[2012-08-13 11:00:11,084] INFO  |bus-worker-26  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"22db26ad-91c8-4c03-9a0d-d3cf4f23c20d","params":{"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:00:11.082Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}})
[2012-08-13 11:00:11,084] DEBUG |bus-worker-26  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"22db26ad-91c8-4c03-9a0d-d3cf4f23c20d","params":{"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:00:11.082Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}} => [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083]
[2012-08-13 11:00:11,085] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] disconnected([id: 0x7cde692c, /10.28.247.250:56428 :> /10.28.120.11:8082])
[2012-08-13 11:00:11,090] DEBUG | I/O  worker #4| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"22db26ad-91c8-4c03-9a0d-d3cf4f23c20d","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083].
[2012-08-13 11:00:11,091] DEBUG | I/O  worker #4| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"22db26ad-91c8-4c03-9a0d-d3cf4f23c20d","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 11:00:11,091] DEBUG |bus-worker-21  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 22db26ad-91c8-4c03-9a0d-d3cf4f23c20d.
[2012-08-13 11:00:11,091] DEBUG |bus-worker-21  | [ GuavaEventBus                 ] Unable to match: 22db26ad-91c8-4c03-9a0d-d3cf4f23c20d.
[2012-08-13 11:00:11,091] DEBUG |bus-worker-4   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"22db26ad-91c8-4c03-9a0d-d3cf4f23c20d","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 11:00:19,900] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] connected([id: 0x6a51e65a, /10.28.247.250:21587 => /10.28.120.11:8082])
[2012-08-13 11:00:24,346] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] Created channel 34617355556-[id: 0x6a51e65a, /10.28.247.250:21587 => /10.28.120.11:8082]
[2012-08-13 11:00:24,346] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 11:00:24,347] DEBUG |pool-1-thread-7| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 735ea947-2a45-4856-8c13-53715412fdc4.
[2012-08-13 11:00:24,347] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 11:00:24,347] DEBUG |pool-1-thread-7| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 11:00:24,347] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 11:00:24,348] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 11:00:24,348] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 11:00:24,348] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 11:00:24,613] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 11:00:24,614] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching SE with ES
[2012-08-13 11:00:24,614] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"735ea947-2a45-4856-8c13-53715412fdc4","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1893255},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:00:24.347Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 11:00:24,614] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 11:00:24,614] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"735ea947-2a45-4856-8c13-53715412fdc4","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1893255},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:00:24.347Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 11:00:24,614] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 11:00:24,614] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 11:00:24,723] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 11:00:24,723] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching IT with ES
[2012-08-13 11:00:24,723] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"735ea947-2a45-4856-8c13-53715412fdc4","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1893255},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:00:24.347Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 11:00:24,723] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 11:00:24,724] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByState(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 11:00:24,826] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the postal codes [03189 (Campoamor): 1.16612 km, 03191 (Mil Palmeras): 4.09263 km] for location [37.9033343, -0.7459349].
[2012-08-13 11:00:24,827] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PUE with VC
[2012-08-13 11:00:24,827] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PUE with VC
[2012-08-13 11:00:24,827] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"735ea947-2a45-4856-8c13-53715412fdc4","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1893255},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:00:24.347Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 11:00:24,827] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 11:00:24,827] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 11:00:24,941] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 11:00:24,941] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PH with ES
[2012-08-13 11:00:24,946] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"735ea947-2a45-4856-8c13-53715412fdc4","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1893255},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:00:24.347Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 11:00:24,946] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 11:00:24,946] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=37.9033343, longitude=-0.7459349, accuracy=2007.0})
[2012-08-13 11:00:25,059] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country ES for location [37.9033343, -0.7459349].
[2012-08-13 11:00:25,059] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching ES with ES
[2012-08-13 11:00:25,059] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] ES matches ES
[2012-08-13 11:00:25,059] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'spain' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"735ea947-2a45-4856-8c13-53715412fdc4","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1893255},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:00:24.347Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 11:00:25,060] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 11:00:25,060] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 11:00:25,060] DEBUG |pool-1-thread-7| [ PsapNameDecorator             ] Responding to connect request with AP name Spain (demo).
[2012-08-13 11:00:25,060] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"735ea947-2a45-4856-8c13-53715412fdc4","result":{"ap":{"name":"Spain (demo)"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 11:00:25,061] DEBUG |bus-worker-30  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 735ea947-2a45-4856-8c13-53715412fdc4.
[2012-08-13 11:00:25,061] DEBUG |bus-worker-30  | [ GuavaEventBus                 ] Invoking callback for: 735ea947-2a45-4856-8c13-53715412fdc4.
[2012-08-13 11:00:25,061] DEBUG |bus-worker-30  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"735ea947-2a45-4856-8c13-53715412fdc4","result":{"ap":{"name":"Spain (demo)"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}} => [id: 0x6a51e65a, /10.28.247.250:21587 => /10.28.120.11:8082]
[2012-08-13 11:00:25,062] DEBUG |bus-worker-30  | [ ClientWebSocketEndPoint       ] Wrote response payload to 34617355556: true.
[2012-08-13 11:00:25,062] DEBUG |bus-worker-1   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"735ea947-2a45-4856-8c13-53715412fdc4","result":{"ap":{"name":"Spain (demo)"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}
[2012-08-13 11:00:25,063] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 11:00:25,063] DEBUG |pool-1-thread-5| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 31fd604f-40c1-4db4-9edf-94f9f5b1f85e.
[2012-08-13 11:00:25,063] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 11:00:25,063] DEBUG |pool-1-thread-5| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 11:00:25,063] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 11:00:25,063] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 11:00:25,063] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 11:00:25,064] DEBUG |bus-worker-7   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"31fd604f-40c1-4db4-9edf-94f9f5b1f85e","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1893255},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:00:25.063Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}}
[2012-08-13 11:00:25,064] DEBUG |bus-worker-7   | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='34617355556'}}
[2012-08-13 11:00:25,064] INFO  |bus-worker-7   | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"31fd604f-40c1-4db4-9edf-94f9f5b1f85e","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1893255},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:00:25.063Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}})
[2012-08-13 11:00:25,064] DEBUG |bus-worker-7   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"31fd604f-40c1-4db4-9edf-94f9f5b1f85e","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1893255},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:00:25.063Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}} => [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083]
[2012-08-13 11:00:25,065] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"735ea947-2a45-4856-8c13-53715412fdc4","params":{"device_info":{"model":"GT-I9000","device_id":"354781049655399"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-0.7459349,"latitude":37.9033343,"accuracy":2007.0,"age":1893255},"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 11:00:25,071] DEBUG | I/O  worker #4| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"31fd604f-40c1-4db4-9edf-94f9f5b1f85e","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083].
[2012-08-13 11:00:25,071] DEBUG | I/O  worker #4| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"31fd604f-40c1-4db4-9edf-94f9f5b1f85e","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 11:00:25,071] DEBUG |bus-worker-11  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 31fd604f-40c1-4db4-9edf-94f9f5b1f85e.
[2012-08-13 11:00:25,072] DEBUG |bus-worker-29  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"31fd604f-40c1-4db4-9edf-94f9f5b1f85e","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 11:00:25,072] DEBUG |bus-worker-11  | [ GuavaEventBus                 ] Unable to match: 31fd604f-40c1-4db4-9edf-94f9f5b1f85e.
[2012-08-13 11:30:24,555] DEBUG | I/O  worker #1| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='34617355556'}},[id: 0x6a51e65a, /10.28.247.250:21587 :> /10.28.120.11:8082].
[2012-08-13 11:30:24,555] DEBUG | I/O  worker #1| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 11:30:24,555] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 11:30:24,555] DEBUG |pool-1-thread-4| [ TimestampDecorator            ] Appending reception timestamp to message with uuid b962fbd0-1c93-40e0-a352-603847939c62.
[2012-08-13 11:30:24,556] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 11:30:24,556] DEBUG |pool-1-thread-4| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 11:30:24,556] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 11:30:24,556] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 11:30:24,556] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 11:30:24,557] DEBUG |bus-worker-12  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"b962fbd0-1c93-40e0-a352-603847939c62","params":{"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:30:24.556Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}}
[2012-08-13 11:30:24,557] DEBUG |bus-worker-23  | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='34617355556'}}
[2012-08-13 11:30:24,558] INFO  |bus-worker-3   | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"b962fbd0-1c93-40e0-a352-603847939c62","params":{"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:30:24.556Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}})
[2012-08-13 11:30:24,558] DEBUG |bus-worker-3   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"b962fbd0-1c93-40e0-a352-603847939c62","params":{"session":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"received_at":"2012-08-13T11:30:24.556Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"target":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}}} => [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083]
[2012-08-13 11:30:24,649] DEBUG | I/O  worker #4| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"b962fbd0-1c93-40e0-a352-603847939c62","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x5eb10190, /10.28.247.250:21665 => /10.28.120.11:8083].
[2012-08-13 11:30:24,649] DEBUG | I/O  worker #4| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"b962fbd0-1c93-40e0-a352-603847939c62","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 11:30:24,649] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] disconnected([id: 0x6a51e65a, /10.28.247.250:21587 :> /10.28.120.11:8082])
[2012-08-13 11:30:24,650] DEBUG |bus-worker-4   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: b962fbd0-1c93-40e0-a352-603847939c62.
[2012-08-13 11:30:24,650] DEBUG |bus-worker-4   | [ GuavaEventBus                 ] Unable to match: b962fbd0-1c93-40e0-a352-603847939c62.
[2012-08-13 11:30:24,650] DEBUG |bus-worker-4   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"b962fbd0-1c93-40e0-a352-603847939c62","result":1},"route":{"target":{"id":{"type":"msisdn","value":"34617355556"},"type":"app"},"source":{"id":{"type":"psap_id","value":"spain"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 20:32:52,249] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] connected([id: 0x6f65011d, /10.28.247.250:26626 => /10.28.120.11:8082])
[2012-08-13 20:32:54,275] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] Created channel 12027380721-[id: 0x6f65011d, /10.28.247.250:26626 => /10.28.120.11:8082]
[2012-08-13 20:32:54,276] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 20:32:54,276] DEBUG |pool-1-thread-9| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 8f4734ed-18bd-47e8-95a1-c4bfd1ad2d8c.
[2012-08-13 20:32:54,276] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 20:32:54,276] DEBUG |pool-1-thread-9| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 20:32:54,276] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 20:32:54,277] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 20:32:54,277] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 20:32:54,277] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97721305, longitude=-93.2660816, accuracy=51.0})
[2012-08-13 20:32:54,834] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the country US for location [44.97721305, -93.2660816].
[2012-08-13 20:32:54,835] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 20:32:54,835] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8f4734ed-18bd-47e8-95a1-c4bfd1ad2d8c","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":36515},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:54.276Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 20:32:54,835] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 20:32:54,835] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8f4734ed-18bd-47e8-95a1-c4bfd1ad2d8c","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":36515},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:54.276Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 20:32:54,835] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 20:32:54,835] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97721305, longitude=-93.2660816, accuracy=51.0})
[2012-08-13 20:32:55,025] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the country US for location [44.97721305, -93.2660816].
[2012-08-13 20:32:55,025] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 20:32:55,025] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8f4734ed-18bd-47e8-95a1-c4bfd1ad2d8c","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":36515},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:54.276Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 20:32:55,025] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 20:32:55,025] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97721305, longitude=-93.2660816, accuracy=51.0})
[2012-08-13 20:32:55,185] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.71665 km] for location [44.97721305, -93.2660816].
[2012-08-13 20:32:55,185] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 20:32:55,185] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 20:32:55,185] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8f4734ed-18bd-47e8-95a1-c4bfd1ad2d8c","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":36515},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:54.276Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 20:32:55,185] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 20:32:55,185] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97721305, longitude=-93.2660816, accuracy=51.0})
[2012-08-13 20:32:55,376] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the country US for location [44.97721305, -93.2660816].
[2012-08-13 20:32:55,376] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 20:32:55,376] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8f4734ed-18bd-47e8-95a1-c4bfd1ad2d8c","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":36515},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:54.276Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 20:32:55,376] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 20:32:55,376] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97721305, longitude=-93.2660816, accuracy=51.0})
[2012-08-13 20:32:55,568] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the country US for location [44.97721305, -93.2660816].
[2012-08-13 20:32:55,568] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 20:32:55,568] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8f4734ed-18bd-47e8-95a1-c4bfd1ad2d8c","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":36515},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:54.276Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 20:32:55,569] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 20:32:55,569] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 20:32:55,569] DEBUG |pool-1-thread-9| [ PsapNameDecorator             ] Responding to connect request with AP name global psap.
[2012-08-13 20:32:55,569] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"8f4734ed-18bd-47e8-95a1-c4bfd1ad2d8c","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 20:32:55,570] DEBUG |bus-worker-1   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 8f4734ed-18bd-47e8-95a1-c4bfd1ad2d8c.
[2012-08-13 20:32:55,570] DEBUG |bus-worker-1   | [ GuavaEventBus                 ] Invoking callback for: 8f4734ed-18bd-47e8-95a1-c4bfd1ad2d8c.
[2012-08-13 20:32:55,570] DEBUG |bus-worker-1   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"8f4734ed-18bd-47e8-95a1-c4bfd1ad2d8c","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}} => [id: 0x6f65011d, /10.28.247.250:26626 => /10.28.120.11:8082]
[2012-08-13 20:32:55,571] DEBUG |bus-worker-1   | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 20:32:55,571] DEBUG |bus-worker-8   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"8f4734ed-18bd-47e8-95a1-c4bfd1ad2d8c","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 20:32:55,572] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 20:32:55,572] DEBUG |pool-1-thread-8| [ TimestampDecorator            ] Appending reception timestamp to message with uuid a0af3866-4334-4f70-bd36-75dcf9d7369c.
[2012-08-13 20:32:55,572] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 20:32:55,572] DEBUG |pool-1-thread-8| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 20:32:55,573] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 20:32:55,573] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 20:32:55,573] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 20:32:55,573] DEBUG |bus-worker-9   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"a0af3866-4334-4f70-bd36-75dcf9d7369c","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":36515},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:55.572Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 20:32:55,573] DEBUG |bus-worker-19  | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 20:32:55,574] INFO  |bus-worker-10  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"a0af3866-4334-4f70-bd36-75dcf9d7369c","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":36515},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:55.572Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 20:32:55,574] DEBUG |bus-worker-10  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"a0af3866-4334-4f70-bd36-75dcf9d7369c","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":36515},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:55.572Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 20:32:55,575] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"8f4734ed-18bd-47e8-95a1-c4bfd1ad2d8c","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":36515},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 20:32:55,639] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"a0af3866-4334-4f70-bd36-75dcf9d7369c","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 20:32:55,640] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"a0af3866-4334-4f70-bd36-75dcf9d7369c","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 20:32:55,640] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: a0af3866-4334-4f70-bd36-75dcf9d7369c.
[2012-08-13 20:32:55,641] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Unable to match: a0af3866-4334-4f70-bd36-75dcf9d7369c.
[2012-08-13 20:32:55,640] DEBUG |bus-worker-11  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"a0af3866-4334-4f70-bd36-75dcf9d7369c","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 20:32:55,974] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 20:32:55,974] DEBUG |pool-1-thread-2| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb.
[2012-08-13 20:32:55,974] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 20:32:55,974] DEBUG |pool-1-thread-2| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 20:32:55,974] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 20:32:55,975] DEBUG |pool-1-thread-2| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 20:32:55,975] DEBUG |pool-1-thread-2| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 20:32:55,975] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97721305, longitude=-93.2660816, accuracy=51.0})
[2012-08-13 20:32:56,167] DEBUG |pool-1-thread-2| [ GeonamesLocationFinder        ] Found the country US for location [44.97721305, -93.2660816].
[2012-08-13 20:32:56,168] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 20:32:56,168] DEBUG |pool-1-thread-2| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":38421},"personal_info":{"full_name":"Dixie","gender":"Female","home_address":"Test Mpls","birth_year":"1988-01-01","blood_type":"Don't know","ice_numbers":[""],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:55.974Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 20:32:56,168] DEBUG |pool-1-thread-2| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 20:32:56,168] DEBUG |pool-1-thread-2| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":38421},"personal_info":{"full_name":"Dixie","gender":"Female","home_address":"Test Mpls","birth_year":"1988-01-01","blood_type":"Don't know","ice_numbers":[""],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:55.974Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 20:32:56,168] DEBUG |pool-1-thread-2| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 20:32:56,168] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97721305, longitude=-93.2660816, accuracy=51.0})
[2012-08-13 20:32:56,369] DEBUG |pool-1-thread-2| [ GeonamesLocationFinder        ] Found the country US for location [44.97721305, -93.2660816].
[2012-08-13 20:32:56,369] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 20:32:56,369] DEBUG |pool-1-thread-2| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":38421},"personal_info":{"full_name":"Dixie","gender":"Female","home_address":"Test Mpls","birth_year":"1988-01-01","blood_type":"Don't know","ice_numbers":[""],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:55.974Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 20:32:56,369] DEBUG |pool-1-thread-2| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 20:32:56,369] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97721305, longitude=-93.2660816, accuracy=51.0})
[2012-08-13 20:32:56,493] DEBUG |pool-1-thread-2| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.71665 km] for location [44.97721305, -93.2660816].
[2012-08-13 20:32:56,493] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 20:32:56,493] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 20:32:56,493] DEBUG |pool-1-thread-2| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":38421},"personal_info":{"full_name":"Dixie","gender":"Female","home_address":"Test Mpls","birth_year":"1988-01-01","blood_type":"Don't know","ice_numbers":[""],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:55.974Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 20:32:56,493] DEBUG |pool-1-thread-2| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 20:32:56,493] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97721305, longitude=-93.2660816, accuracy=51.0})
[2012-08-13 20:32:56,687] DEBUG |pool-1-thread-2| [ GeonamesLocationFinder        ] Found the country US for location [44.97721305, -93.2660816].
[2012-08-13 20:32:56,687] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 20:32:56,687] DEBUG |pool-1-thread-2| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":38421},"personal_info":{"full_name":"Dixie","gender":"Female","home_address":"Test Mpls","birth_year":"1988-01-01","blood_type":"Don't know","ice_numbers":[""],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:55.974Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 20:32:56,687] DEBUG |pool-1-thread-2| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 20:32:56,687] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97721305, longitude=-93.2660816, accuracy=51.0})
[2012-08-13 20:32:56,885] DEBUG |pool-1-thread-2| [ GeonamesLocationFinder        ] Found the country US for location [44.97721305, -93.2660816].
[2012-08-13 20:32:56,885] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 20:32:56,885] DEBUG |pool-1-thread-2| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":38421},"personal_info":{"full_name":"Dixie","gender":"Female","home_address":"Test Mpls","birth_year":"1988-01-01","blood_type":"Don't know","ice_numbers":[""],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:55.974Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 20:32:56,885] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 20:32:56,885] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 20:32:56,886] DEBUG |bus-worker-23  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":38421},"personal_info":{"full_name":"Dixie","gender":"Female","home_address":"Test Mpls","birth_year":"1988-01-01","blood_type":"Don't know","ice_numbers":[""],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:55.974Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 20:32:56,887] INFO  |bus-worker-28  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":38421},"personal_info":{"full_name":"Dixie","gender":"Female","home_address":"Test Mpls","birth_year":"1988-01-01","blood_type":"Don't know","ice_numbers":[""],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:55.974Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 20:32:56,887] DEBUG |bus-worker-28  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":38421},"personal_info":{"full_name":"Dixie","gender":"Female","home_address":"Test Mpls","birth_year":"1988-01-01","blood_type":"Don't know","ice_numbers":[""],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:32:55.974Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 20:32:56,893] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 20:32:56,894] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 20:32:56,894] DEBUG |bus-worker-30  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb.
[2012-08-13 20:32:56,894] DEBUG |bus-worker-30  | [ GuavaEventBus                 ] Invoking callback for: 8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb.
[2012-08-13 20:32:56,894] DEBUG |bus-worker-30  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"} => [id: 0x6f65011d, /10.28.247.250:26626 => /10.28.120.11:8082]
[2012-08-13 20:32:56,895] DEBUG |bus-worker-30  | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 20:32:56,895] DEBUG |bus-worker-21  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"8e3806b6-f895-4ddb-8af4-ff56ac3d6ebb","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 20:45:18,749] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 20:45:18,749] DEBUG |pool-1-thread-1| [ TimestampDecorator            ] Appending reception timestamp to message with uuid b2d067a9-5245-435d-a624-0d4e4b02fc4d.
[2012-08-13 20:45:18,749] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 20:45:18,750] DEBUG |pool-1-thread-1| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 20:45:18,750] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 20:45:18,750] DEBUG |pool-1-thread-1| [ TargetRouteMessageDecorator   ] Payload Target EndPoint EndPoint{type='ap', id=ID{type='psap_id', value='worldwide'}} is connected.
[2012-08-13 20:45:18,750] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 20:45:18,750] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 20:45:18,752] DEBUG |bus-worker-8   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"b2d067a9-5245-435d-a624-0d4e4b02fc4d","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":781202},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:45:18.749Z"},"method":"alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 20:45:18,753] INFO  |bus-worker-20  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"b2d067a9-5245-435d-a624-0d4e4b02fc4d","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":781202},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:45:18.749Z"},"method":"alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 20:45:18,753] DEBUG |bus-worker-20  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"b2d067a9-5245-435d-a624-0d4e4b02fc4d","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":781202},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:45:18.749Z"},"method":"alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 20:45:18,837] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"b2d067a9-5245-435d-a624-0d4e4b02fc4d","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 20:45:18,838] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"b2d067a9-5245-435d-a624-0d4e4b02fc4d","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 20:45:18,838] DEBUG |bus-worker-13  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: b2d067a9-5245-435d-a624-0d4e4b02fc4d.
[2012-08-13 20:45:18,838] DEBUG |bus-worker-13  | [ GuavaEventBus                 ] Invoking callback for: b2d067a9-5245-435d-a624-0d4e4b02fc4d.
[2012-08-13 20:45:18,838] DEBUG |bus-worker-13  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"b2d067a9-5245-435d-a624-0d4e4b02fc4d","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"} => [id: 0x6f65011d, /10.28.247.250:26626 => /10.28.120.11:8082]
[2012-08-13 20:45:18,841] DEBUG |bus-worker-22  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"b2d067a9-5245-435d-a624-0d4e4b02fc4d","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 20:45:18,842] DEBUG |bus-worker-13  | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 20:45:20,388] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 20:45:20,388] DEBUG |pool-1-thread-6| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 91195656-1269-4b30-bbe4-39cb2054d946.
[2012-08-13 20:45:20,389] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 20:45:20,389] DEBUG |pool-1-thread-6| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 20:45:20,389] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 20:45:20,389] DEBUG |pool-1-thread-6| [ TargetRouteMessageDecorator   ] Payload Target EndPoint EndPoint{type='ap', id=ID{type='psap_id', value='worldwide'}} is connected.
[2012-08-13 20:45:20,389] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 20:45:20,389] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 20:45:20,390] DEBUG |bus-worker-29  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"91195656-1269-4b30-bbe4-39cb2054d946","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:45:20.389Z"},"method":"location_update"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 20:45:20,391] INFO  |bus-worker-26  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"91195656-1269-4b30-bbe4-39cb2054d946","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:45:20.389Z"},"method":"location_update"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 20:45:20,391] DEBUG |bus-worker-26  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"91195656-1269-4b30-bbe4-39cb2054d946","params":{"location":{"longitude":-93.2660816,"latitude":44.97721305,"accuracy":51.0,"age":343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T20:45:20.389Z"},"method":"location_update"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 20:45:20,396] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"91195656-1269-4b30-bbe4-39cb2054d946","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 20:45:20,397] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"91195656-1269-4b30-bbe4-39cb2054d946","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 20:45:20,397] DEBUG |bus-worker-4   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 91195656-1269-4b30-bbe4-39cb2054d946.
[2012-08-13 20:45:20,397] DEBUG |bus-worker-4   | [ GuavaEventBus                 ] Invoking callback for: 91195656-1269-4b30-bbe4-39cb2054d946.
[2012-08-13 20:45:20,398] DEBUG |bus-worker-4   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"91195656-1269-4b30-bbe4-39cb2054d946","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"} => [id: 0x6f65011d, /10.28.247.250:26626 => /10.28.120.11:8082]
[2012-08-13 20:45:20,398] DEBUG |bus-worker-4   | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 20:45:20,398] DEBUG |bus-worker-6   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"91195656-1269-4b30-bbe4-39cb2054d946","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 21:21:25,169] DEBUG | I/O  worker #2| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}},[id: 0x6f65011d, /10.28.247.250:26626 :> /10.28.120.11:8082].
[2012-08-13 21:21:25,169] DEBUG | I/O  worker #2| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 21:21:25,170] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 21:21:25,170] DEBUG |ool-1-thread-10| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 800bd871-d2af-4228-b876-49a200a84457.
[2012-08-13 21:21:25,170] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 21:21:25,170] DEBUG |ool-1-thread-10| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 21:21:25,170] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 21:21:25,171] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 21:21:25,171] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 21:21:25,171] DEBUG |bus-worker-21  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"800bd871-d2af-4228-b876-49a200a84457","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T21:21:25.170Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 21:21:25,171] DEBUG |bus-worker-1   | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 21:21:25,172] INFO  |bus-worker-18  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"800bd871-d2af-4228-b876-49a200a84457","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T21:21:25.170Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 21:21:25,172] DEBUG |bus-worker-18  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"800bd871-d2af-4228-b876-49a200a84457","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T21:21:25.170Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 21:21:25,173] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] disconnected([id: 0x6f65011d, /10.28.247.250:26626 :> /10.28.120.11:8082])
[2012-08-13 21:21:25,177] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"800bd871-d2af-4228-b876-49a200a84457","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 21:21:25,178] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"800bd871-d2af-4228-b876-49a200a84457","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 21:21:25,178] DEBUG |bus-worker-5   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 800bd871-d2af-4228-b876-49a200a84457.
[2012-08-13 21:21:25,178] DEBUG |bus-worker-5   | [ GuavaEventBus                 ] Unable to match: 800bd871-d2af-4228-b876-49a200a84457.
[2012-08-13 21:21:25,178] DEBUG |bus-worker-10  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"800bd871-d2af-4228-b876-49a200a84457","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 22:31:23,684] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] connected([id: 0x7c8950ce, /10.28.247.250:9594 => /10.28.120.11:8082])
[2012-08-13 22:31:40,541] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] connected([id: 0x5118f163, /10.28.247.250:9604 => /10.28.120.11:8082])
[2012-08-13 22:31:55,597] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] disconnected([id: 0x7c8950ce, /10.28.247.250:9594 :> /10.28.120.11:8082])
[2012-08-13 22:31:59,035] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] connected([id: 0x271eafee, /10.28.247.250:9605 => /10.28.120.11:8082])
[2012-08-13 22:32:25,276] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] Created channel 12027380721-[id: 0x271eafee, /10.28.247.250:9605 => /10.28.120.11:8082]
[2012-08-13 22:32:25,276] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 22:32:25,277] DEBUG |pool-1-thread-3| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 97be1f68-7874-4462-893e-a835c76841e6.
[2012-08-13 22:32:25,277] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 22:32:25,277] DEBUG |pool-1-thread-3| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 22:32:25,277] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 22:32:25,277] DEBUG |pool-1-thread-3| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 22:32:25,278] DEBUG |pool-1-thread-3| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:25,278] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:25,962] DEBUG |pool-1-thread-3| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:25,962] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 22:32:25,962] DEBUG |pool-1-thread-3| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"97be1f68-7874-4462-893e-a835c76841e6","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":75357},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:25.277Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:25,962] DEBUG |pool-1-thread-3| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:25,962] DEBUG |pool-1-thread-3| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"97be1f68-7874-4462-893e-a835c76841e6","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":75357},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:25.277Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:25,962] DEBUG |pool-1-thread-3| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:25,962] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:26,188] DEBUG |pool-1-thread-3| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:26,188] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 22:32:26,188] DEBUG |pool-1-thread-3| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"97be1f68-7874-4462-893e-a835c76841e6","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":75357},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:25.277Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:26,188] DEBUG |pool-1-thread-3| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:26,188] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:26,300] DEBUG |pool-1-thread-3| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.7118 km] for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:26,300] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 22:32:26,300] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 22:32:26,300] DEBUG |pool-1-thread-3| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"97be1f68-7874-4462-893e-a835c76841e6","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":75357},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:25.277Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:26,300] DEBUG |pool-1-thread-3| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:26,300] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:26,490] DEBUG |pool-1-thread-3| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:26,490] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 22:32:26,490] DEBUG |pool-1-thread-3| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"97be1f68-7874-4462-893e-a835c76841e6","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":75357},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:25.277Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:26,490] DEBUG |pool-1-thread-3| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:26,491] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:26,697] DEBUG |pool-1-thread-3| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:26,697] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 22:32:26,697] DEBUG |pool-1-thread-3| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"97be1f68-7874-4462-893e-a835c76841e6","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":75357},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:25.277Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:26,698] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 22:32:26,698] DEBUG |pool-1-thread-3| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:26,698] DEBUG |pool-1-thread-3| [ PsapNameDecorator             ] Responding to connect request with AP name global psap.
[2012-08-13 22:32:26,698] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"97be1f68-7874-4462-893e-a835c76841e6","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:26,698] DEBUG |bus-worker-12  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 97be1f68-7874-4462-893e-a835c76841e6.
[2012-08-13 22:32:26,699] DEBUG |bus-worker-12  | [ GuavaEventBus                 ] Invoking callback for: 97be1f68-7874-4462-893e-a835c76841e6.
[2012-08-13 22:32:26,699] DEBUG |bus-worker-12  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"97be1f68-7874-4462-893e-a835c76841e6","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}} => [id: 0x271eafee, /10.28.247.250:9605 => /10.28.120.11:8082]
[2012-08-13 22:32:26,699] DEBUG |bus-worker-12  | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 22:32:26,700] DEBUG |bus-worker-13  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"97be1f68-7874-4462-893e-a835c76841e6","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:26,700] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 22:32:26,700] DEBUG |pool-1-thread-5| [ TimestampDecorator            ] Appending reception timestamp to message with uuid c456cc72-0bb1-43e0-a791-06feeaa4186f.
[2012-08-13 22:32:26,701] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 22:32:26,701] DEBUG |pool-1-thread-5| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 22:32:26,701] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 22:32:26,701] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 22:32:26,701] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 22:32:26,701] DEBUG |bus-worker-11  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"c456cc72-0bb1-43e0-a791-06feeaa4186f","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":75357},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:26.701Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 22:32:26,702] DEBUG |bus-worker-11  | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 22:32:26,702] INFO  |bus-worker-11  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"c456cc72-0bb1-43e0-a791-06feeaa4186f","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":75357},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:26.701Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 22:32:26,702] DEBUG |bus-worker-11  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"c456cc72-0bb1-43e0-a791-06feeaa4186f","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":75357},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:26.701Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 22:32:26,703] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"97be1f68-7874-4462-893e-a835c76841e6","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":75357},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 22:32:26,708] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"c456cc72-0bb1-43e0-a791-06feeaa4186f","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 22:32:26,709] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"c456cc72-0bb1-43e0-a791-06feeaa4186f","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 22:32:26,709] DEBUG |bus-worker-6   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: c456cc72-0bb1-43e0-a791-06feeaa4186f.
[2012-08-13 22:32:26,709] DEBUG |bus-worker-6   | [ GuavaEventBus                 ] Unable to match: c456cc72-0bb1-43e0-a791-06feeaa4186f.
[2012-08-13 22:32:26,709] DEBUG |bus-worker-30  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"c456cc72-0bb1-43e0-a791-06feeaa4186f","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 22:32:27,642] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 22:32:27,643] DEBUG |pool-1-thread-7| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 54eda4a2-0b6f-4aa6-8bc3-836f850950f3.
[2012-08-13 22:32:27,643] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 22:32:27,643] DEBUG |pool-1-thread-7| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 22:32:27,643] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 22:32:27,644] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 22:32:27,644] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:27,644] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:27,835] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:27,835] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 22:32:27,835] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"54eda4a2-0b6f-4aa6-8bc3-836f850950f3","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":77725},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:27.643Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:27,835] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:27,835] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"54eda4a2-0b6f-4aa6-8bc3-836f850950f3","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":77725},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:27.643Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:27,835] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:27,835] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:28,029] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:28,029] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 22:32:28,029] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"54eda4a2-0b6f-4aa6-8bc3-836f850950f3","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":77725},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:27.643Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:28,029] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:28,029] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:28,147] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.7118 km] for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:28,147] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 22:32:28,147] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 22:32:28,147] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"54eda4a2-0b6f-4aa6-8bc3-836f850950f3","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":77725},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:27.643Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:28,147] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:28,147] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:28,347] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:28,347] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 22:32:28,347] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"54eda4a2-0b6f-4aa6-8bc3-836f850950f3","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":77725},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:27.643Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:28,347] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:28,347] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:28,538] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:28,538] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 22:32:28,538] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"54eda4a2-0b6f-4aa6-8bc3-836f850950f3","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":77725},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:27.643Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:28,539] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 22:32:28,539] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 22:32:28,539] DEBUG |bus-worker-1   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"54eda4a2-0b6f-4aa6-8bc3-836f850950f3","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":77725},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:27.643Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 22:32:28,541] INFO  |bus-worker-17  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"54eda4a2-0b6f-4aa6-8bc3-836f850950f3","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":77725},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:27.643Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 22:32:28,541] DEBUG |bus-worker-17  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"54eda4a2-0b6f-4aa6-8bc3-836f850950f3","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":77725},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:27.643Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 22:32:28,546] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"54eda4a2-0b6f-4aa6-8bc3-836f850950f3","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 22:32:28,547] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"54eda4a2-0b6f-4aa6-8bc3-836f850950f3","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 22:32:28,547] DEBUG |bus-worker-10  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 54eda4a2-0b6f-4aa6-8bc3-836f850950f3.
[2012-08-13 22:32:28,547] DEBUG |bus-worker-10  | [ GuavaEventBus                 ] Invoking callback for: 54eda4a2-0b6f-4aa6-8bc3-836f850950f3.
[2012-08-13 22:32:28,547] DEBUG |bus-worker-10  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"54eda4a2-0b6f-4aa6-8bc3-836f850950f3","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"} => [id: 0x271eafee, /10.28.247.250:9605 => /10.28.120.11:8082]
[2012-08-13 22:32:28,548] DEBUG |bus-worker-10  | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 22:32:28,548] DEBUG |bus-worker-22  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"54eda4a2-0b6f-4aa6-8bc3-836f850950f3","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 22:32:29,272] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] Created channel 12027380721-[id: 0x5118f163, /10.28.247.250:9604 => /10.28.120.11:8082]
[2012-08-13 22:32:29,272] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 22:32:29,272] DEBUG |pool-1-thread-4| [ TimestampDecorator            ] Appending reception timestamp to message with uuid d59cb3c2-354b-482b-b552-4bb6b055cefc.
[2012-08-13 22:32:29,272] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 22:32:29,273] DEBUG |pool-1-thread-4| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 22:32:29,273] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 22:32:29,273] DEBUG |pool-1-thread-4| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 22:32:29,273] DEBUG |pool-1-thread-4| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:29,273] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:29,528] DEBUG |pool-1-thread-4| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:29,528] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 22:32:29,528] DEBUG |pool-1-thread-4| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"d59cb3c2-354b-482b-b552-4bb6b055cefc","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":49842},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:29.272Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:29,528] DEBUG |pool-1-thread-4| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:29,528] DEBUG |pool-1-thread-4| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"d59cb3c2-354b-482b-b552-4bb6b055cefc","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":49842},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:29.272Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:29,528] DEBUG |pool-1-thread-4| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:29,528] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:29,720] DEBUG |pool-1-thread-4| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:29,720] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 22:32:29,720] DEBUG |pool-1-thread-4| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"d59cb3c2-354b-482b-b552-4bb6b055cefc","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":49842},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:29.272Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:29,720] DEBUG |pool-1-thread-4| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:29,720] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:29,831] DEBUG |pool-1-thread-4| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.7118 km] for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:29,831] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 22:32:29,831] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 22:32:29,831] DEBUG |pool-1-thread-4| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"d59cb3c2-354b-482b-b552-4bb6b055cefc","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":49842},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:29.272Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:29,832] DEBUG |pool-1-thread-4| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:29,832] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:30,022] DEBUG |pool-1-thread-4| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:30,022] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 22:32:30,022] DEBUG |pool-1-thread-4| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"d59cb3c2-354b-482b-b552-4bb6b055cefc","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":49842},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:29.272Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:30,022] DEBUG |pool-1-thread-4| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:30,022] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:32:30,275] DEBUG |pool-1-thread-4| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:32:30,276] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 22:32:30,276] DEBUG |pool-1-thread-4| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"d59cb3c2-354b-482b-b552-4bb6b055cefc","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":49842},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:29.272Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:30,276] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 22:32:30,276] DEBUG |pool-1-thread-4| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:32:30,276] DEBUG |pool-1-thread-4| [ PsapNameDecorator             ] Responding to connect request with AP name global psap.
[2012-08-13 22:32:30,277] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"d59cb3c2-354b-482b-b552-4bb6b055cefc","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:30,277] DEBUG |bus-worker-13  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: d59cb3c2-354b-482b-b552-4bb6b055cefc.
[2012-08-13 22:32:30,277] DEBUG |bus-worker-13  | [ GuavaEventBus                 ] Invoking callback for: d59cb3c2-354b-482b-b552-4bb6b055cefc.
[2012-08-13 22:32:30,278] DEBUG |bus-worker-13  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"d59cb3c2-354b-482b-b552-4bb6b055cefc","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}} => [id: 0x5118f163, /10.28.247.250:9604 => /10.28.120.11:8082]
[2012-08-13 22:32:30,278] DEBUG |bus-worker-13  | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 22:32:30,279] DEBUG |bus-worker-29  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"d59cb3c2-354b-482b-b552-4bb6b055cefc","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:32:30,279] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 22:32:30,279] DEBUG |pool-1-thread-8| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 5e63befa-5a57-41cf-a5d1-a50aced2db32.
[2012-08-13 22:32:30,280] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 22:32:30,280] DEBUG |pool-1-thread-8| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 22:32:30,280] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 22:32:30,280] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 22:32:30,280] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 22:32:30,280] DEBUG |bus-worker-24  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"5e63befa-5a57-41cf-a5d1-a50aced2db32","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":49842},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:30.279Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 22:32:30,280] DEBUG |bus-worker-24  | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 22:32:30,281] INFO  |bus-worker-24  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"5e63befa-5a57-41cf-a5d1-a50aced2db32","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":49842},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:30.279Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 22:32:30,281] DEBUG |bus-worker-24  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"5e63befa-5a57-41cf-a5d1-a50aced2db32","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":49842},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:32:30.279Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 22:32:30,282] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"d59cb3c2-354b-482b-b552-4bb6b055cefc","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":49842},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 22:32:30,286] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"5e63befa-5a57-41cf-a5d1-a50aced2db32","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 22:32:30,287] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"5e63befa-5a57-41cf-a5d1-a50aced2db32","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 22:32:30,287] DEBUG |bus-worker-6   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 5e63befa-5a57-41cf-a5d1-a50aced2db32.
[2012-08-13 22:32:30,287] DEBUG |bus-worker-6   | [ GuavaEventBus                 ] Unable to match: 5e63befa-5a57-41cf-a5d1-a50aced2db32.
[2012-08-13 22:32:30,287] DEBUG |bus-worker-30  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"5e63befa-5a57-41cf-a5d1-a50aced2db32","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 22:34:59,934] DEBUG | I/O  worker #1| [ KeyBasedChannelGroup          ] Removed null,[id: 0x271eafee, /10.28.247.250:9605 :> /10.28.120.11:8082].
Aug 13, 2012 10:34:59 PM org.jboss.netty.channel.DefaultChannelFuture
WARNING: An exception was thrown by ChannelFutureListener.
java.lang.NullPointerException
	at org.fress.core.protocol.payload.internal.JacksonJsonRpc20PayloadBuilder.withSource(JacksonJsonRpc20PayloadBuilder.java:214)
	at org.fress.core.protocol.payload.internal.JacksonJsonRpc20PayloadBuilder.newRequest(JacksonJsonRpc20PayloadBuilder.java:64)
	at org.fress.server.ws.ClientWebSocketEndPoint.channelRemoved(ClientWebSocketEndPoint.java:146)
	at org.fress.server.ws.ClientWebSocketEndPoint.channelRemoved(ClientWebSocketEndPoint.java:37)
	at org.fress.nettyws.server.KeyBasedChannelGroup.updateChannelRemoved(KeyBasedChannelGroup.java:52)
	at org.fress.nettyws.server.KeyBasedChannelGroup.remove(KeyBasedChannelGroup.java:87)
	at org.jboss.netty.channel.group.DefaultChannelGroup$1.operationComplete(DefaultChannelGroup.java:48)
	at org.jboss.netty.channel.DefaultChannelFuture.notifyListener(DefaultChannelFuture.java:399)
	at org.jboss.netty.channel.DefaultChannelFuture.notifyListeners(DefaultChannelFuture.java:385)
	at org.jboss.netty.channel.DefaultChannelFuture.setSuccess(DefaultChannelFuture.java:334)
	at org.jboss.netty.channel.AbstractChannel$ChannelCloseFuture.setClosed(AbstractChannel.java:345)
	at org.jboss.netty.channel.AbstractChannel.setClosed(AbstractChannel.java:182)
	at org.jboss.netty.channel.socket.nio.AbstractNioChannel.setClosed(AbstractNioChannel.java:198)
	at org.jboss.netty.channel.socket.nio.NioSocketChannel.setClosed(NioSocketChannel.java:83)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.close(AbstractNioWorker.java:612)
	at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:101)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.processSelectedKeys(AbstractNioWorker.java:372)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:246)
	at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:38)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
[2012-08-13 22:34:59,935] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] disconnected([id: 0x271eafee, /10.28.247.250:9605 :> /10.28.120.11:8082])
[2012-08-13 22:35:15,854] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] connected([id: 0x092316bd, /10.28.247.250:9689 => /10.28.120.11:8082])
[2012-08-13 22:35:20,673] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] Created channel 12027380721-[id: 0x092316bd, /10.28.247.250:9689 => /10.28.120.11:8082]
[2012-08-13 22:35:20,673] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 22:35:20,673] DEBUG |pool-1-thread-9| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 7d152153-bd40-4d50-a8a9-91c9d21396e1.
[2012-08-13 22:35:20,674] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 22:35:20,674] DEBUG |pool-1-thread-9| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 22:35:20,674] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 22:35:20,674] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 22:35:20,674] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:35:20,674] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:35:20,975] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:35:20,975] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 22:35:20,975] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"7d152153-bd40-4d50-a8a9-91c9d21396e1","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":250795},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:35:20.674Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:35:20,975] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:35:20,975] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"7d152153-bd40-4d50-a8a9-91c9d21396e1","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":250795},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:35:20.674Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:35:20,975] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:35:20,975] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:35:21,319] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:35:21,320] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 22:35:21,320] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"7d152153-bd40-4d50-a8a9-91c9d21396e1","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":250795},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:35:20.674Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:35:21,320] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:35:21,320] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:35:21,575] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.7118 km] for location [44.97726045, -93.26606718000001].
[2012-08-13 22:35:21,575] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 22:35:21,580] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 22:35:21,580] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"7d152153-bd40-4d50-a8a9-91c9d21396e1","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":250795},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:35:20.674Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:35:21,580] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:35:21,580] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:35:21,790] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:35:21,790] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 22:35:21,790] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"7d152153-bd40-4d50-a8a9-91c9d21396e1","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":250795},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:35:20.674Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:35:21,790] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:35:21,790] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:35:21,996] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:35:21,996] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 22:35:21,996] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"7d152153-bd40-4d50-a8a9-91c9d21396e1","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":250795},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:35:20.674Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:35:21,996] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 22:35:21,996] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:35:21,996] DEBUG |pool-1-thread-9| [ PsapNameDecorator             ] Responding to connect request with AP name global psap.
[2012-08-13 22:35:21,997] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"7d152153-bd40-4d50-a8a9-91c9d21396e1","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:35:21,997] DEBUG |bus-worker-8   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 7d152153-bd40-4d50-a8a9-91c9d21396e1.
[2012-08-13 22:35:21,998] DEBUG |bus-worker-8   | [ GuavaEventBus                 ] Invoking callback for: 7d152153-bd40-4d50-a8a9-91c9d21396e1.
[2012-08-13 22:35:21,998] DEBUG |bus-worker-8   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"7d152153-bd40-4d50-a8a9-91c9d21396e1","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}} => [id: 0x092316bd, /10.28.247.250:9689 => /10.28.120.11:8082]
[2012-08-13 22:35:21,999] DEBUG |bus-worker-8   | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 22:35:21,999] DEBUG |bus-worker-7   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"7d152153-bd40-4d50-a8a9-91c9d21396e1","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:35:21,999] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 22:35:21,999] DEBUG |pool-1-thread-2| [ TimestampDecorator            ] Appending reception timestamp to message with uuid ec022c1a-c084-4903-9047-1af932e21d60.
[2012-08-13 22:35:22,000] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 22:35:22,000] DEBUG |pool-1-thread-2| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 22:35:22,000] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 22:35:22,000] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 22:35:22,000] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 22:35:22,000] DEBUG |bus-worker-16  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"ec022c1a-c084-4903-9047-1af932e21d60","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":250795},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:35:22.000Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 22:35:22,001] DEBUG |bus-worker-16  | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 22:35:22,001] INFO  |bus-worker-16  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"ec022c1a-c084-4903-9047-1af932e21d60","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":250795},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:35:22.000Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 22:35:22,001] DEBUG |bus-worker-16  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"ec022c1a-c084-4903-9047-1af932e21d60","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":250795},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:35:22.000Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 22:35:22,005] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"7d152153-bd40-4d50-a8a9-91c9d21396e1","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":250795},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 22:35:22,007] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"ec022c1a-c084-4903-9047-1af932e21d60","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 22:35:22,007] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"ec022c1a-c084-4903-9047-1af932e21d60","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 22:35:22,008] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: ec022c1a-c084-4903-9047-1af932e21d60.
[2012-08-13 22:35:22,008] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Unable to match: ec022c1a-c084-4903-9047-1af932e21d60.
[2012-08-13 22:35:22,008] DEBUG |bus-worker-23  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"ec022c1a-c084-4903-9047-1af932e21d60","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 22:47:14,931] DEBUG | I/O  worker #2| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}},[id: 0x092316bd, /10.28.247.250:9689 :> /10.28.120.11:8082].
[2012-08-13 22:47:14,932] DEBUG | I/O  worker #2| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 22:47:14,932] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 22:47:14,932] DEBUG |pool-1-thread-1| [ TimestampDecorator            ] Appending reception timestamp to message with uuid e3dd2e61-3111-4890-b9ae-5fee2e0c6d11.
[2012-08-13 22:47:14,933] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 22:47:14,933] DEBUG |pool-1-thread-1| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 22:47:14,933] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 22:47:14,933] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 22:47:14,933] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 22:47:14,933] DEBUG |bus-worker-15  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"e3dd2e61-3111-4890-b9ae-5fee2e0c6d11","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:47:14.932Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 22:47:14,934] DEBUG |bus-worker-25  | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 22:47:14,934] INFO  |bus-worker-11  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"e3dd2e61-3111-4890-b9ae-5fee2e0c6d11","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:47:14.932Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 22:47:14,934] DEBUG |bus-worker-11  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"e3dd2e61-3111-4890-b9ae-5fee2e0c6d11","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:47:14.932Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 22:47:14,935] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] disconnected([id: 0x092316bd, /10.28.247.250:9689 :> /10.28.120.11:8082])
[2012-08-13 22:47:14,940] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"e3dd2e61-3111-4890-b9ae-5fee2e0c6d11","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 22:47:14,941] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"e3dd2e61-3111-4890-b9ae-5fee2e0c6d11","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 22:47:14,941] DEBUG |bus-worker-6   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: e3dd2e61-3111-4890-b9ae-5fee2e0c6d11.
[2012-08-13 22:47:14,941] DEBUG |bus-worker-6   | [ GuavaEventBus                 ] Unable to match: e3dd2e61-3111-4890-b9ae-5fee2e0c6d11.
[2012-08-13 22:47:14,941] DEBUG |bus-worker-30  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"e3dd2e61-3111-4890-b9ae-5fee2e0c6d11","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 22:47:23,822] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] connected([id: 0x0d9f2856, /10.28.247.250:13023 => /10.28.120.11:8082])
[2012-08-13 22:47:29,563] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] Created channel 12027380721-[id: 0x0d9f2856, /10.28.247.250:13023 => /10.28.120.11:8082]
[2012-08-13 22:47:29,563] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 22:47:29,563] DEBUG |pool-1-thread-6| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 8f46d1c9-2fb8-4e7e-9f69-adb2c5461895.
[2012-08-13 22:47:29,654] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 22:47:29,654] DEBUG |pool-1-thread-6| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 22:47:29,654] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 22:47:29,654] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 22:47:29,654] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:47:29,654] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:47:30,136] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:47:30,136] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 22:47:30,136] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8f46d1c9-2fb8-4e7e-9f69-adb2c5461895","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":976542},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:47:29.653Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:47:30,136] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:47:30,136] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8f46d1c9-2fb8-4e7e-9f69-adb2c5461895","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":976542},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:47:29.653Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:47:30,137] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:47:30,137] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:47:32,849] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:47:32,849] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 22:47:32,849] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8f46d1c9-2fb8-4e7e-9f69-adb2c5461895","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":976542},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:47:29.653Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:47:32,849] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:47:32,850] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:47:33,127] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.7118 km] for location [44.97726045, -93.26606718000001].
[2012-08-13 22:47:33,127] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 22:47:33,127] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 22:47:33,127] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8f46d1c9-2fb8-4e7e-9f69-adb2c5461895","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":976542},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:47:29.653Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:47:33,128] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:47:33,128] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:47:33,327] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:47:33,327] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 22:47:33,327] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8f46d1c9-2fb8-4e7e-9f69-adb2c5461895","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":976542},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:47:29.653Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:47:33,327] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:47:33,327] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 22:47:33,523] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 22:47:33,523] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 22:47:33,523] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"8f46d1c9-2fb8-4e7e-9f69-adb2c5461895","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":976542},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:47:29.653Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:47:33,524] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 22:47:33,524] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 22:47:33,524] DEBUG |pool-1-thread-6| [ PsapNameDecorator             ] Responding to connect request with AP name global psap.
[2012-08-13 22:47:33,524] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"8f46d1c9-2fb8-4e7e-9f69-adb2c5461895","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:47:33,524] DEBUG |bus-worker-7   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 8f46d1c9-2fb8-4e7e-9f69-adb2c5461895.
[2012-08-13 22:47:33,525] DEBUG |bus-worker-7   | [ GuavaEventBus                 ] Invoking callback for: 8f46d1c9-2fb8-4e7e-9f69-adb2c5461895.
[2012-08-13 22:47:33,525] DEBUG |bus-worker-7   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"8f46d1c9-2fb8-4e7e-9f69-adb2c5461895","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}} => [id: 0x0d9f2856, /10.28.247.250:13023 => /10.28.120.11:8082]
[2012-08-13 22:47:33,526] DEBUG |bus-worker-7   | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 22:47:33,526] DEBUG |bus-worker-9   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"8f46d1c9-2fb8-4e7e-9f69-adb2c5461895","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 22:47:33,526] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 22:47:33,526] DEBUG |ool-1-thread-10| [ TimestampDecorator            ] Appending reception timestamp to message with uuid df8fe0c3-b892-4461-951a-6b9ef80cabcb.
[2012-08-13 22:47:33,527] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 22:47:33,527] DEBUG |ool-1-thread-10| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 22:47:33,527] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 22:47:33,527] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 22:47:33,527] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 22:47:33,528] DEBUG |bus-worker-19  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"df8fe0c3-b892-4461-951a-6b9ef80cabcb","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":976542},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:47:33.527Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 22:47:33,528] DEBUG |bus-worker-19  | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 22:47:33,528] INFO  |bus-worker-19  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"df8fe0c3-b892-4461-951a-6b9ef80cabcb","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":976542},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:47:33.527Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 22:47:33,528] DEBUG |bus-worker-19  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"df8fe0c3-b892-4461-951a-6b9ef80cabcb","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":976542},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T22:47:33.527Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 22:47:33,529] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"8f46d1c9-2fb8-4e7e-9f69-adb2c5461895","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":976542},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 22:47:33,617] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"df8fe0c3-b892-4461-951a-6b9ef80cabcb","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 22:47:33,617] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"df8fe0c3-b892-4461-951a-6b9ef80cabcb","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 22:47:33,617] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: df8fe0c3-b892-4461-951a-6b9ef80cabcb.
[2012-08-13 22:47:33,618] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Unable to match: df8fe0c3-b892-4461-951a-6b9ef80cabcb.
[2012-08-13 22:47:33,617] DEBUG |bus-worker-23  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"df8fe0c3-b892-4461-951a-6b9ef80cabcb","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:02:00,928] DEBUG | I/O  worker #2| [ KeyBasedChannelGroup          ] Removed null,[id: 0x5118f163, /10.28.247.250:9604 :> /10.28.120.11:8082].
Aug 13, 2012 11:02:00 PM org.jboss.netty.channel.DefaultChannelFuture
WARNING: An exception was thrown by ChannelFutureListener.
java.lang.NullPointerException
	at org.fress.core.protocol.payload.internal.JacksonJsonRpc20PayloadBuilder.withSource(JacksonJsonRpc20PayloadBuilder.java:214)
	at org.fress.core.protocol.payload.internal.JacksonJsonRpc20PayloadBuilder.newRequest(JacksonJsonRpc20PayloadBuilder.java:64)
	at org.fress.server.ws.ClientWebSocketEndPoint.channelRemoved(ClientWebSocketEndPoint.java:146)
	at org.fress.server.ws.ClientWebSocketEndPoint.channelRemoved(ClientWebSocketEndPoint.java:37)
	at org.fress.nettyws.server.KeyBasedChannelGroup.updateChannelRemoved(KeyBasedChannelGroup.java:52)
	at org.fress.nettyws.server.KeyBasedChannelGroup.remove(KeyBasedChannelGroup.java:87)
	at org.jboss.netty.channel.group.DefaultChannelGroup$1.operationComplete(DefaultChannelGroup.java:48)
	at org.jboss.netty.channel.DefaultChannelFuture.notifyListener(DefaultChannelFuture.java:399)
	at org.jboss.netty.channel.DefaultChannelFuture.notifyListeners(DefaultChannelFuture.java:385)
	at org.jboss.netty.channel.DefaultChannelFuture.setSuccess(DefaultChannelFuture.java:334)
	at org.jboss.netty.channel.AbstractChannel$ChannelCloseFuture.setClosed(AbstractChannel.java:345)
	at org.jboss.netty.channel.AbstractChannel.setClosed(AbstractChannel.java:182)
	at org.jboss.netty.channel.socket.nio.AbstractNioChannel.setClosed(AbstractNioChannel.java:198)
	at org.jboss.netty.channel.socket.nio.NioSocketChannel.setClosed(NioSocketChannel.java:83)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.close(AbstractNioWorker.java:612)
	at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:101)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.processSelectedKeys(AbstractNioWorker.java:372)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:246)
	at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:38)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
[2012-08-13 23:02:00,930] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] disconnected([id: 0x5118f163, /10.28.247.250:9604 :> /10.28.120.11:8082])
[2012-08-13 23:02:25,929] DEBUG | I/O  worker #1| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}},[id: 0x0d9f2856, /10.28.247.250:13023 :> /10.28.120.11:8082].
[2012-08-13 23:02:25,929] DEBUG | I/O  worker #1| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 23:02:25,930] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:02:25,930] DEBUG |pool-1-thread-5| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 1adae6da-cf2f-4149-a5fe-a34f70719420.
[2012-08-13 23:02:25,930] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:02:25,930] DEBUG |pool-1-thread-5| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:02:25,930] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:02:25,931] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:02:25,931] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:02:25,931] DEBUG |bus-worker-25  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"1adae6da-cf2f-4149-a5fe-a34f70719420","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:25.930Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:02:25,931] DEBUG |bus-worker-27  | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:02:25,932] INFO  |bus-worker-21  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"1adae6da-cf2f-4149-a5fe-a34f70719420","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:25.930Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:02:25,932] DEBUG |bus-worker-21  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"1adae6da-cf2f-4149-a5fe-a34f70719420","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:25.930Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:02:25,933] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] disconnected([id: 0x0d9f2856, /10.28.247.250:13023 :> /10.28.120.11:8082])
[2012-08-13 23:02:25,937] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"1adae6da-cf2f-4149-a5fe-a34f70719420","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:02:25,938] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"1adae6da-cf2f-4149-a5fe-a34f70719420","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:02:25,938] DEBUG |bus-worker-30  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 1adae6da-cf2f-4149-a5fe-a34f70719420.
[2012-08-13 23:02:25,938] DEBUG |bus-worker-30  | [ GuavaEventBus                 ] Unable to match: 1adae6da-cf2f-4149-a5fe-a34f70719420.
[2012-08-13 23:02:25,938] DEBUG |bus-worker-8   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"1adae6da-cf2f-4149-a5fe-a34f70719420","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:02:30,443] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] connected([id: 0x49b9914b, /10.28.247.250:17549 => /10.28.120.11:8082])
[2012-08-13 23:02:34,968] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] Created channel 12027380721-[id: 0x49b9914b, /10.28.247.250:17549 => /10.28.120.11:8082]
[2012-08-13 23:02:34,972] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:02:34,972] DEBUG |pool-1-thread-3| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 4c7cf2ff-f866-4deb-82b5-8980cdc491f6.
[2012-08-13 23:02:34,972] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:02:34,972] DEBUG |pool-1-thread-3| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:02:34,972] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:02:34,973] DEBUG |pool-1-thread-3| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 23:02:34,973] DEBUG |pool-1-thread-3| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:02:34,973] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:02:35,534] DEBUG |pool-1-thread-3| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:02:35,534] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 23:02:35,534] DEBUG |pool-1-thread-3| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"4c7cf2ff-f866-4deb-82b5-8980cdc491f6","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1885386},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:34.972Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:02:35,534] DEBUG |pool-1-thread-3| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:02:35,534] DEBUG |pool-1-thread-3| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"4c7cf2ff-f866-4deb-82b5-8980cdc491f6","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1885386},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:34.972Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:02:35,534] DEBUG |pool-1-thread-3| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:02:35,534] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:02:35,725] DEBUG |pool-1-thread-3| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:02:35,725] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 23:02:35,725] DEBUG |pool-1-thread-3| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"4c7cf2ff-f866-4deb-82b5-8980cdc491f6","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1885386},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:34.972Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:02:35,725] DEBUG |pool-1-thread-3| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:02:35,725] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:02:35,977] DEBUG |pool-1-thread-3| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.7118 km] for location [44.97726045, -93.26606718000001].
[2012-08-13 23:02:35,977] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:02:35,977] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:02:35,977] DEBUG |pool-1-thread-3| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"4c7cf2ff-f866-4deb-82b5-8980cdc491f6","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1885386},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:34.972Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:02:35,977] DEBUG |pool-1-thread-3| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:02:35,977] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:02:36,175] DEBUG |pool-1-thread-3| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:02:36,175] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 23:02:36,175] DEBUG |pool-1-thread-3| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"4c7cf2ff-f866-4deb-82b5-8980cdc491f6","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1885386},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:34.972Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:02:36,175] DEBUG |pool-1-thread-3| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:02:36,175] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:02:36,366] DEBUG |pool-1-thread-3| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:02:36,366] DEBUG |pool-1-thread-3| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 23:02:36,366] DEBUG |pool-1-thread-3| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"4c7cf2ff-f866-4deb-82b5-8980cdc491f6","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1885386},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:34.972Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:02:36,366] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:02:36,367] DEBUG |pool-1-thread-3| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:02:36,367] DEBUG |pool-1-thread-3| [ PsapNameDecorator             ] Responding to connect request with AP name global psap.
[2012-08-13 23:02:36,367] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"4c7cf2ff-f866-4deb-82b5-8980cdc491f6","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:02:36,367] DEBUG |bus-worker-9   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 4c7cf2ff-f866-4deb-82b5-8980cdc491f6.
[2012-08-13 23:02:36,368] DEBUG |bus-worker-9   | [ GuavaEventBus                 ] Invoking callback for: 4c7cf2ff-f866-4deb-82b5-8980cdc491f6.
[2012-08-13 23:02:36,368] DEBUG |bus-worker-9   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"4c7cf2ff-f866-4deb-82b5-8980cdc491f6","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}} => [id: 0x49b9914b, /10.28.247.250:17549 => /10.28.120.11:8082]
[2012-08-13 23:02:36,369] DEBUG |bus-worker-9   | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 23:02:36,369] DEBUG |bus-worker-16  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"4c7cf2ff-f866-4deb-82b5-8980cdc491f6","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:02:36,369] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:02:36,369] DEBUG |pool-1-thread-7| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 2b0f6b8b-9d14-4961-a41e-9cfdbc521f92.
[2012-08-13 23:02:36,370] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:02:36,370] DEBUG |pool-1-thread-7| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:02:36,370] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:02:36,370] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:02:36,370] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:02:36,370] DEBUG |bus-worker-18  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"2b0f6b8b-9d14-4961-a41e-9cfdbc521f92","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1885386},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:36.370Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:02:36,371] DEBUG |bus-worker-18  | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:02:36,371] INFO  |bus-worker-18  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"2b0f6b8b-9d14-4961-a41e-9cfdbc521f92","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1885386},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:36.370Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:02:36,371] DEBUG |bus-worker-18  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"2b0f6b8b-9d14-4961-a41e-9cfdbc521f92","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1885386},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:36.370Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:02:36,372] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"4c7cf2ff-f866-4deb-82b5-8980cdc491f6","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1885386},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 23:02:36,377] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"2b0f6b8b-9d14-4961-a41e-9cfdbc521f92","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:02:36,378] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"2b0f6b8b-9d14-4961-a41e-9cfdbc521f92","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:02:36,379] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 2b0f6b8b-9d14-4961-a41e-9cfdbc521f92.
[2012-08-13 23:02:36,383] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Unable to match: 2b0f6b8b-9d14-4961-a41e-9cfdbc521f92.
[2012-08-13 23:02:36,383] DEBUG |bus-worker-23  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"2b0f6b8b-9d14-4961-a41e-9cfdbc521f92","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:02:37,883] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:02:37,884] DEBUG |pool-1-thread-8| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 54ab4e8d-3421-4cc0-beef-0cadf73c121e.
[2012-08-13 23:02:37,884] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:02:37,884] DEBUG |pool-1-thread-8| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:02:37,884] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:02:37,885] DEBUG |pool-1-thread-8| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 23:02:37,885] DEBUG |pool-1-thread-8| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:02:37,885] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:02:38,198] DEBUG |pool-1-thread-8| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:02:38,198] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 23:02:38,198] DEBUG |pool-1-thread-8| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"54ab4e8d-3421-4cc0-beef-0cadf73c121e","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1887914},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:37.884Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:02:38,198] DEBUG |pool-1-thread-8| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:02:38,198] DEBUG |pool-1-thread-8| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"54ab4e8d-3421-4cc0-beef-0cadf73c121e","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1887914},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:37.884Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:02:38,198] DEBUG |pool-1-thread-8| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:02:38,198] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:02:38,391] DEBUG |pool-1-thread-8| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:02:38,391] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 23:02:38,391] DEBUG |pool-1-thread-8| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"54ab4e8d-3421-4cc0-beef-0cadf73c121e","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1887914},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:37.884Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:02:38,391] DEBUG |pool-1-thread-8| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:02:38,391] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:02:38,509] DEBUG |pool-1-thread-8| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.7118 km] for location [44.97726045, -93.26606718000001].
[2012-08-13 23:02:38,509] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:02:38,509] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:02:38,509] DEBUG |pool-1-thread-8| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"54ab4e8d-3421-4cc0-beef-0cadf73c121e","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1887914},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:37.884Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:02:38,509] DEBUG |pool-1-thread-8| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:02:38,509] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:02:38,722] DEBUG |pool-1-thread-8| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:02:38,722] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 23:02:38,722] DEBUG |pool-1-thread-8| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"54ab4e8d-3421-4cc0-beef-0cadf73c121e","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1887914},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:37.884Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:02:38,722] DEBUG |pool-1-thread-8| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:02:38,722] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:02:38,912] DEBUG |pool-1-thread-8| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:02:38,912] DEBUG |pool-1-thread-8| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 23:02:38,912] DEBUG |pool-1-thread-8| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"54ab4e8d-3421-4cc0-beef-0cadf73c121e","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1887914},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:37.884Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:02:38,913] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:02:38,913] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:02:38,913] DEBUG |bus-worker-27  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"54ab4e8d-3421-4cc0-beef-0cadf73c121e","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1887914},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:37.884Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:02:38,915] INFO  |bus-worker-1   | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"54ab4e8d-3421-4cc0-beef-0cadf73c121e","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1887914},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:37.884Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:02:38,915] DEBUG |bus-worker-1   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"54ab4e8d-3421-4cc0-beef-0cadf73c121e","params":{"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":1887914},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:02:37.884Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:02:38,920] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"54ab4e8d-3421-4cc0-beef-0cadf73c121e","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:02:38,921] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"54ab4e8d-3421-4cc0-beef-0cadf73c121e","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:02:38,921] DEBUG |bus-worker-8   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 54ab4e8d-3421-4cc0-beef-0cadf73c121e.
[2012-08-13 23:02:38,922] DEBUG |bus-worker-8   | [ GuavaEventBus                 ] Invoking callback for: 54ab4e8d-3421-4cc0-beef-0cadf73c121e.
[2012-08-13 23:02:38,922] DEBUG |bus-worker-8   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"54ab4e8d-3421-4cc0-beef-0cadf73c121e","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"} => [id: 0x49b9914b, /10.28.247.250:17549 => /10.28.120.11:8082]
[2012-08-13 23:02:38,922] DEBUG |bus-worker-8   | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 23:02:38,921] DEBUG |bus-worker-7   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"54ab4e8d-3421-4cc0-beef-0cadf73c121e","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:06:30,927] DEBUG | I/O  worker #2| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}},[id: 0x49b9914b, /10.28.247.250:17549 :> /10.28.120.11:8082].
[2012-08-13 23:06:30,928] DEBUG | I/O  worker #2| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 23:06:30,928] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:06:30,928] DEBUG |pool-1-thread-4| [ TimestampDecorator            ] Appending reception timestamp to message with uuid fa0e72fb-b904-421a-b535-6cf98945e45c.
[2012-08-13 23:06:30,928] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:06:30,928] DEBUG |pool-1-thread-4| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:06:30,929] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:06:30,929] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:06:30,929] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:06:30,929] DEBUG |bus-worker-16  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"fa0e72fb-b904-421a-b535-6cf98945e45c","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:06:30.928Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:06:30,930] DEBUG |bus-worker-14  | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:06:30,931] INFO  |bus-worker-13  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"fa0e72fb-b904-421a-b535-6cf98945e45c","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:06:30.928Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:06:30,931] DEBUG |bus-worker-13  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"fa0e72fb-b904-421a-b535-6cf98945e45c","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:06:30.928Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:06:30,932] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] disconnected([id: 0x49b9914b, /10.28.247.250:17549 :> /10.28.120.11:8082])
[2012-08-13 23:06:30,936] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"fa0e72fb-b904-421a-b535-6cf98945e45c","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:06:30,937] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"fa0e72fb-b904-421a-b535-6cf98945e45c","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:06:30,937] DEBUG |bus-worker-15  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: fa0e72fb-b904-421a-b535-6cf98945e45c.
[2012-08-13 23:06:30,937] DEBUG |bus-worker-15  | [ GuavaEventBus                 ] Unable to match: fa0e72fb-b904-421a-b535-6cf98945e45c.
[2012-08-13 23:06:30,937] DEBUG |bus-worker-18  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"fa0e72fb-b904-421a-b535-6cf98945e45c","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:07:09,137] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] connected([id: 0x0f10962e, /10.28.247.250:35884 => /10.28.120.11:8082])
[2012-08-13 23:07:10,610] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] Created channel 12027380721-[id: 0x0f10962e, /10.28.247.250:35884 => /10.28.120.11:8082]
[2012-08-13 23:07:10,614] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:07:10,614] DEBUG |pool-1-thread-2| [ TimestampDecorator            ] Appending reception timestamp to message with uuid f96f936d-7fd0-4834-989b-55396e0781b0.
[2012-08-13 23:07:10,614] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:07:10,614] DEBUG |pool-1-thread-2| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:07:10,614] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:07:10,615] DEBUG |pool-1-thread-2| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 23:07:10,615] DEBUG |pool-1-thread-2| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:07:10,615] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:07:10,914] DEBUG |pool-1-thread-2| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:07:10,914] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 23:07:10,914] DEBUG |pool-1-thread-2| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"f96f936d-7fd0-4834-989b-55396e0781b0","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2161144},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:07:10.614Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:07:10,914] DEBUG |pool-1-thread-2| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:07:10,914] DEBUG |pool-1-thread-2| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"f96f936d-7fd0-4834-989b-55396e0781b0","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2161144},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:07:10.614Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:07:10,914] DEBUG |pool-1-thread-2| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:07:10,914] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:07:11,106] DEBUG |pool-1-thread-2| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:07:11,106] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 23:07:11,106] DEBUG |pool-1-thread-2| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"f96f936d-7fd0-4834-989b-55396e0781b0","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2161144},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:07:10.614Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:07:11,106] DEBUG |pool-1-thread-2| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:07:11,106] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:07:11,222] DEBUG |pool-1-thread-2| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.7118 km] for location [44.97726045, -93.26606718000001].
[2012-08-13 23:07:11,222] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:07:11,222] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:07:11,222] DEBUG |pool-1-thread-2| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"f96f936d-7fd0-4834-989b-55396e0781b0","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2161144},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:07:10.614Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:07:11,222] DEBUG |pool-1-thread-2| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:07:11,223] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:07:11,415] DEBUG |pool-1-thread-2| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:07:11,415] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 23:07:11,415] DEBUG |pool-1-thread-2| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"f96f936d-7fd0-4834-989b-55396e0781b0","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2161144},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:07:10.614Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:07:11,415] DEBUG |pool-1-thread-2| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:07:11,415] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:07:11,607] DEBUG |pool-1-thread-2| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:07:11,607] DEBUG |pool-1-thread-2| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 23:07:11,607] DEBUG |pool-1-thread-2| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"f96f936d-7fd0-4834-989b-55396e0781b0","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2161144},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:07:10.614Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:07:11,608] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:07:11,608] DEBUG |pool-1-thread-2| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:07:11,608] DEBUG |pool-1-thread-2| [ PsapNameDecorator             ] Responding to connect request with AP name global psap.
[2012-08-13 23:07:11,608] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"f96f936d-7fd0-4834-989b-55396e0781b0","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:07:11,608] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: f96f936d-7fd0-4834-989b-55396e0781b0.
[2012-08-13 23:07:11,609] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Invoking callback for: f96f936d-7fd0-4834-989b-55396e0781b0.
[2012-08-13 23:07:11,609] DEBUG |bus-worker-29  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"f96f936d-7fd0-4834-989b-55396e0781b0","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}} => [id: 0x0f10962e, /10.28.247.250:35884 => /10.28.120.11:8082]
[2012-08-13 23:07:11,610] DEBUG |bus-worker-29  | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 23:07:11,610] DEBUG |bus-worker-23  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"f96f936d-7fd0-4834-989b-55396e0781b0","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:07:11,611] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:07:11,611] DEBUG |pool-1-thread-9| [ TimestampDecorator            ] Appending reception timestamp to message with uuid e95bf97e-c1f5-4b59-9a9d-a0150e4ba702.
[2012-08-13 23:07:11,611] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:07:11,611] DEBUG |pool-1-thread-9| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:07:11,611] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:07:11,611] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:07:11,612] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:07:11,612] DEBUG |bus-worker-2   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"e95bf97e-c1f5-4b59-9a9d-a0150e4ba702","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2161144},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:07:11.611Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:07:11,612] DEBUG |bus-worker-2   | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:07:11,612] INFO  |bus-worker-2   | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"e95bf97e-c1f5-4b59-9a9d-a0150e4ba702","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2161144},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:07:11.611Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:07:11,613] DEBUG |bus-worker-2   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"e95bf97e-c1f5-4b59-9a9d-a0150e4ba702","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2161144},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:07:11.611Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:07:11,614] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"f96f936d-7fd0-4834-989b-55396e0781b0","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2161144},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 23:07:11,618] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"e95bf97e-c1f5-4b59-9a9d-a0150e4ba702","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:07:11,619] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"e95bf97e-c1f5-4b59-9a9d-a0150e4ba702","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:07:11,619] DEBUG |bus-worker-8   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: e95bf97e-c1f5-4b59-9a9d-a0150e4ba702.
[2012-08-13 23:07:11,619] DEBUG |bus-worker-8   | [ GuavaEventBus                 ] Unable to match: e95bf97e-c1f5-4b59-9a9d-a0150e4ba702.
[2012-08-13 23:07:11,619] DEBUG |bus-worker-7   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"e95bf97e-c1f5-4b59-9a9d-a0150e4ba702","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:11:52,154] DEBUG | I/O  worker #1| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}},[id: 0x0f10962e, /10.28.247.250:35884 :> /10.28.120.11:8082].
[2012-08-13 23:11:52,154] DEBUG | I/O  worker #1| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 23:11:52,154] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:11:52,154] DEBUG |pool-1-thread-1| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 8df16f95-4d9b-4982-bd3c-6d86d856758a.
[2012-08-13 23:11:52,155] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:11:52,155] DEBUG |pool-1-thread-1| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:11:52,155] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:11:52,155] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:11:52,155] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:11:52,155] DEBUG |bus-worker-14  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"8df16f95-4d9b-4982-bd3c-6d86d856758a","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:11:52.154Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:11:52,156] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] disconnected([id: 0x0f10962e, /10.28.247.250:35884 :> /10.28.120.11:8082])
[2012-08-13 23:11:52,156] DEBUG |bus-worker-17  | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:11:52,157] INFO  |bus-worker-24  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"8df16f95-4d9b-4982-bd3c-6d86d856758a","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:11:52.154Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:11:52,157] DEBUG |bus-worker-24  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"8df16f95-4d9b-4982-bd3c-6d86d856758a","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:11:52.154Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:11:52,162] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"8df16f95-4d9b-4982-bd3c-6d86d856758a","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:11:52,162] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"8df16f95-4d9b-4982-bd3c-6d86d856758a","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:11:52,163] DEBUG |bus-worker-18  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 8df16f95-4d9b-4982-bd3c-6d86d856758a.
[2012-08-13 23:11:52,163] DEBUG |bus-worker-18  | [ GuavaEventBus                 ] Unable to match: 8df16f95-4d9b-4982-bd3c-6d86d856758a.
[2012-08-13 23:11:52,163] DEBUG |bus-worker-25  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"8df16f95-4d9b-4982-bd3c-6d86d856758a","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:11:52,442] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] connected([id: 0x102000a5, /10.28.247.250:54507 => /10.28.120.11:8082])
[2012-08-13 23:11:54,146] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] Created channel 12027380721-[id: 0x102000a5, /10.28.247.250:54507 => /10.28.120.11:8082]
[2012-08-13 23:11:54,147] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:11:54,147] DEBUG |ool-1-thread-10| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 9aa25cf9-1775-4376-b770-b6f512a2f199.
[2012-08-13 23:11:54,147] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:11:54,147] DEBUG |ool-1-thread-10| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:11:54,147] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:11:54,148] DEBUG |ool-1-thread-10| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 23:11:54,148] DEBUG |ool-1-thread-10| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:11:54,148] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713092, longitude=-93.26597413000002, accuracy=42.0})
[2012-08-13 23:11:56,075] DEBUG |ool-1-thread-10| [ GeonamesLocationFinder        ] Found the country US for location [44.97713092, -93.26597413000002].
[2012-08-13 23:11:56,075] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 23:11:56,076] DEBUG |ool-1-thread-10| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"9aa25cf9-1775-4376-b770-b6f512a2f199","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":5264},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:11:54.147Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:11:56,076] DEBUG |ool-1-thread-10| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:11:56,076] DEBUG |ool-1-thread-10| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"9aa25cf9-1775-4376-b770-b6f512a2f199","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":5264},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:11:54.147Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:11:56,076] DEBUG |ool-1-thread-10| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:11:56,076] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713092, longitude=-93.26597413000002, accuracy=42.0})
[2012-08-13 23:11:56,879] DEBUG |ool-1-thread-10| [ GeonamesLocationFinder        ] Found the country US for location [44.97713092, -93.26597413000002].
[2012-08-13 23:11:56,879] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 23:11:56,879] DEBUG |ool-1-thread-10| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"9aa25cf9-1775-4376-b770-b6f512a2f199","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":5264},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:11:54.147Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:11:56,880] DEBUG |ool-1-thread-10| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:11:56,880] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97713092, longitude=-93.26597413000002, accuracy=42.0})
[2012-08-13 23:12:08,043] DEBUG |ool-1-thread-10| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.72756 km] for location [44.97713092, -93.26597413000002].
[2012-08-13 23:12:08,043] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:12:08,043] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:12:08,043] DEBUG |ool-1-thread-10| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"9aa25cf9-1775-4376-b770-b6f512a2f199","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":5264},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:11:54.147Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:12:08,043] DEBUG |ool-1-thread-10| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:12:08,043] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713092, longitude=-93.26597413000002, accuracy=42.0})
[2012-08-13 23:12:08,552] DEBUG |ool-1-thread-10| [ GeonamesLocationFinder        ] Found the country US for location [44.97713092, -93.26597413000002].
[2012-08-13 23:12:08,552] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 23:12:08,552] DEBUG |ool-1-thread-10| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"9aa25cf9-1775-4376-b770-b6f512a2f199","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":5264},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:11:54.147Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:12:08,552] DEBUG |ool-1-thread-10| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:12:08,552] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713092, longitude=-93.26597413000002, accuracy=42.0})
[2012-08-13 23:12:08,747] DEBUG |ool-1-thread-10| [ GeonamesLocationFinder        ] Found the country US for location [44.97713092, -93.26597413000002].
[2012-08-13 23:12:08,747] DEBUG |ool-1-thread-10| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 23:12:08,747] DEBUG |ool-1-thread-10| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"9aa25cf9-1775-4376-b770-b6f512a2f199","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":5264},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:11:54.147Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:12:08,748] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:12:08,748] DEBUG |ool-1-thread-10| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:12:08,748] DEBUG |ool-1-thread-10| [ PsapNameDecorator             ] Responding to connect request with AP name global psap.
[2012-08-13 23:12:08,749] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"9aa25cf9-1775-4376-b770-b6f512a2f199","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:12:08,749] DEBUG |bus-worker-23  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 9aa25cf9-1775-4376-b770-b6f512a2f199.
[2012-08-13 23:12:08,751] DEBUG |bus-worker-23  | [ GuavaEventBus                 ] Invoking callback for: 9aa25cf9-1775-4376-b770-b6f512a2f199.
[2012-08-13 23:12:08,751] DEBUG |bus-worker-23  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"9aa25cf9-1775-4376-b770-b6f512a2f199","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}} => [id: 0x102000a5, /10.28.247.250:54507 => /10.28.120.11:8082]
[2012-08-13 23:12:08,751] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"9aa25cf9-1775-4376-b770-b6f512a2f199","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":5264},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 23:12:08,750] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:12:08,751] DEBUG |pool-1-thread-6| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 04d4dd88-d87c-4bea-b5c4-326ed0547f70.
[2012-08-13 23:12:08,752] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:12:08,752] DEBUG |pool-1-thread-6| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:12:08,752] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:12:08,752] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:12:08,752] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:12:08,749] DEBUG |bus-worker-27  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"9aa25cf9-1775-4376-b770-b6f512a2f199","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:12:08,752] DEBUG |bus-worker-3   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"04d4dd88-d87c-4bea-b5c4-326ed0547f70","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":5264},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:12:08.752Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:12:08,754] DEBUG |bus-worker-23  | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 23:12:08,753] INFO  |bus-worker-4   | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"04d4dd88-d87c-4bea-b5c4-326ed0547f70","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":5264},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:12:08.752Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:12:08,754] DEBUG |bus-worker-4   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"04d4dd88-d87c-4bea-b5c4-326ed0547f70","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":5264},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:12:08.752Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:12:08,753] DEBUG |bus-worker-28  | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:12:08,760] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"04d4dd88-d87c-4bea-b5c4-326ed0547f70","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:12:08,760] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"04d4dd88-d87c-4bea-b5c4-326ed0547f70","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:12:08,760] DEBUG |bus-worker-8   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 04d4dd88-d87c-4bea-b5c4-326ed0547f70.
[2012-08-13 23:12:08,761] DEBUG |bus-worker-8   | [ GuavaEventBus                 ] Unable to match: 04d4dd88-d87c-4bea-b5c4-326ed0547f70.
[2012-08-13 23:12:08,761] DEBUG |bus-worker-8   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"04d4dd88-d87c-4bea-b5c4-326ed0547f70","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:13:07,925] DEBUG | I/O  worker #2| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}},[id: 0x102000a5, /10.28.247.250:54507 :> /10.28.120.11:8082].
[2012-08-13 23:13:07,926] DEBUG | I/O  worker #2| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 23:13:07,926] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:13:07,926] DEBUG |pool-1-thread-5| [ TimestampDecorator            ] Appending reception timestamp to message with uuid d988ec32-c498-4257-b19e-c60c2473f504.
[2012-08-13 23:13:07,927] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:13:07,927] DEBUG |pool-1-thread-5| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:13:07,927] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:13:07,927] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:13:07,927] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:13:07,927] DEBUG |bus-worker-17  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"d988ec32-c498-4257-b19e-c60c2473f504","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:13:07.926Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:13:07,928] DEBUG |bus-worker-20  | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:13:07,928] INFO  |bus-worker-19  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"d988ec32-c498-4257-b19e-c60c2473f504","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:13:07.926Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:13:07,928] DEBUG |bus-worker-19  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"d988ec32-c498-4257-b19e-c60c2473f504","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:13:07.926Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:13:07,929] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] disconnected([id: 0x102000a5, /10.28.247.250:54507 :> /10.28.120.11:8082])
[2012-08-13 23:13:07,934] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"d988ec32-c498-4257-b19e-c60c2473f504","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:13:07,934] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"d988ec32-c498-4257-b19e-c60c2473f504","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:13:07,935] DEBUG |bus-worker-25  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: d988ec32-c498-4257-b19e-c60c2473f504.
[2012-08-13 23:13:07,935] DEBUG |bus-worker-25  | [ GuavaEventBus                 ] Unable to match: d988ec32-c498-4257-b19e-c60c2473f504.
[2012-08-13 23:13:07,935] DEBUG |bus-worker-29  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"d988ec32-c498-4257-b19e-c60c2473f504","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:14:05,079] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] connected([id: 0x6841fb80, /10.28.247.250:54534 => /10.28.120.11:8082])
[2012-08-13 23:14:07,409] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] Created channel 12027380721-[id: 0x6841fb80, /10.28.247.250:54534 => /10.28.120.11:8082]
[2012-08-13 23:14:07,410] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:14:07,410] DEBUG |pool-1-thread-7| [ TimestampDecorator            ] Appending reception timestamp to message with uuid e0bbae81-2c22-4287-82df-011a56a8424b.
[2012-08-13 23:14:07,410] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:14:07,410] DEBUG |pool-1-thread-7| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:14:07,411] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:14:07,411] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 23:14:07,411] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:14:07,411] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:14:07,881] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country US for location [44.97725344, -93.26607877000001].
[2012-08-13 23:14:07,881] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 23:14:07,881] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"e0bbae81-2c22-4287-82df-011a56a8424b","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":3343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:07.410Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:07,881] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:14:07,881] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"e0bbae81-2c22-4287-82df-011a56a8424b","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":3343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:07.410Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:07,881] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:14:07,881] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:14:08,071] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country US for location [44.97725344, -93.26607877000001].
[2012-08-13 23:14:08,071] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 23:14:08,071] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"e0bbae81-2c22-4287-82df-011a56a8424b","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":3343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:07.410Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:08,071] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:14:08,071] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:14:08,190] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.71234 km] for location [44.97725344, -93.26607877000001].
[2012-08-13 23:14:08,190] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:14:08,190] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:14:08,190] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"e0bbae81-2c22-4287-82df-011a56a8424b","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":3343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:07.410Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:08,190] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:14:08,190] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:14:08,385] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country US for location [44.97725344, -93.26607877000001].
[2012-08-13 23:14:08,385] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 23:14:08,385] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"e0bbae81-2c22-4287-82df-011a56a8424b","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":3343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:07.410Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:08,385] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:14:08,385] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:14:08,576] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country US for location [44.97725344, -93.26607877000001].
[2012-08-13 23:14:08,576] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 23:14:08,576] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"e0bbae81-2c22-4287-82df-011a56a8424b","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":3343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:07.410Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:08,577] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:14:08,577] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:14:08,577] DEBUG |pool-1-thread-7| [ PsapNameDecorator             ] Responding to connect request with AP name global psap.
[2012-08-13 23:14:08,578] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"e0bbae81-2c22-4287-82df-011a56a8424b","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:08,578] DEBUG |bus-worker-11  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: e0bbae81-2c22-4287-82df-011a56a8424b.
[2012-08-13 23:14:08,578] DEBUG |bus-worker-11  | [ GuavaEventBus                 ] Invoking callback for: e0bbae81-2c22-4287-82df-011a56a8424b.
[2012-08-13 23:14:08,578] DEBUG |bus-worker-11  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"e0bbae81-2c22-4287-82df-011a56a8424b","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}} => [id: 0x6841fb80, /10.28.247.250:54534 => /10.28.120.11:8082]
[2012-08-13 23:14:08,579] DEBUG |bus-worker-11  | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 23:14:08,579] DEBUG |bus-worker-21  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"e0bbae81-2c22-4287-82df-011a56a8424b","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:08,580] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:14:08,580] DEBUG |pool-1-thread-3| [ TimestampDecorator            ] Appending reception timestamp to message with uuid d2de9416-5ad2-4681-861b-a1e95aef3344.
[2012-08-13 23:14:08,581] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:14:08,581] DEBUG |pool-1-thread-3| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:14:08,581] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:14:08,581] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:14:08,581] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:14:08,581] DEBUG |bus-worker-6   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"d2de9416-5ad2-4681-861b-a1e95aef3344","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":3343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:08.580Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:14:08,581] DEBUG |bus-worker-6   | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:14:08,582] INFO  |bus-worker-6   | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"d2de9416-5ad2-4681-861b-a1e95aef3344","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":3343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:08.580Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:14:08,582] DEBUG |bus-worker-6   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"d2de9416-5ad2-4681-861b-a1e95aef3344","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":3343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:08.580Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:14:08,583] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"e0bbae81-2c22-4287-82df-011a56a8424b","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":3343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 23:14:08,587] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"d2de9416-5ad2-4681-861b-a1e95aef3344","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:14:08,588] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"d2de9416-5ad2-4681-861b-a1e95aef3344","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:14:08,588] DEBUG |bus-worker-7   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: d2de9416-5ad2-4681-861b-a1e95aef3344.
[2012-08-13 23:14:08,588] DEBUG |bus-worker-7   | [ GuavaEventBus                 ] Unable to match: d2de9416-5ad2-4681-861b-a1e95aef3344.
[2012-08-13 23:14:08,588] DEBUG |bus-worker-14  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"d2de9416-5ad2-4681-861b-a1e95aef3344","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:14:32,217] DEBUG | I/O  worker #1| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}},[id: 0x6841fb80, /10.28.247.250:54534 :> /10.28.120.11:8082].
[2012-08-13 23:14:32,218] DEBUG | I/O  worker #1| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 23:14:32,218] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:14:32,218] DEBUG |pool-1-thread-8| [ TimestampDecorator            ] Appending reception timestamp to message with uuid f460e541-5f8f-41f1-8bd9-609ea1e64b07.
[2012-08-13 23:14:32,218] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:14:32,218] DEBUG |pool-1-thread-8| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:14:32,219] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:14:32,219] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:14:32,219] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:14:32,219] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] disconnected([id: 0x6841fb80, /10.28.247.250:54534 :> /10.28.120.11:8082])
[2012-08-13 23:14:32,219] DEBUG |bus-worker-20  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"f460e541-5f8f-41f1-8bd9-609ea1e64b07","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:32.218Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:14:32,220] DEBUG |bus-worker-5   | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:14:32,220] INFO  |bus-worker-15  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"f460e541-5f8f-41f1-8bd9-609ea1e64b07","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:32.218Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:14:32,220] DEBUG |bus-worker-15  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"f460e541-5f8f-41f1-8bd9-609ea1e64b07","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:32.218Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:14:32,225] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"f460e541-5f8f-41f1-8bd9-609ea1e64b07","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:14:32,226] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"f460e541-5f8f-41f1-8bd9-609ea1e64b07","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:14:32,226] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: f460e541-5f8f-41f1-8bd9-609ea1e64b07.
[2012-08-13 23:14:32,226] DEBUG |bus-worker-29  | [ GuavaEventBus                 ] Unable to match: f460e541-5f8f-41f1-8bd9-609ea1e64b07.
[2012-08-13 23:14:32,226] DEBUG |bus-worker-26  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"f460e541-5f8f-41f1-8bd9-609ea1e64b07","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:14:33,323] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] connected([id: 0x340ef0d8, /10.28.247.250:52255 => /10.28.120.11:8082])
[2012-08-13 23:14:34,129] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] Created channel 12027380721-[id: 0x340ef0d8, /10.28.247.250:52255 => /10.28.120.11:8082]
[2012-08-13 23:14:34,130] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:14:34,130] DEBUG |pool-1-thread-4| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 6b7dd834-0e4d-4f4f-b7ec-5195ce6b3119.
[2012-08-13 23:14:34,130] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:14:34,130] DEBUG |pool-1-thread-4| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:14:34,130] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:14:34,131] DEBUG |pool-1-thread-4| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 23:14:34,131] DEBUG |pool-1-thread-4| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:14:34,131] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:14:34,581] DEBUG |pool-1-thread-4| [ GeonamesLocationFinder        ] Found the country US for location [44.97725344, -93.26607877000001].
[2012-08-13 23:14:34,581] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 23:14:34,581] DEBUG |pool-1-thread-4| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"6b7dd834-0e4d-4f4f-b7ec-5195ce6b3119","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":30343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:34.130Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:34,581] DEBUG |pool-1-thread-4| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:14:34,581] DEBUG |pool-1-thread-4| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"6b7dd834-0e4d-4f4f-b7ec-5195ce6b3119","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":30343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:34.130Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:34,581] DEBUG |pool-1-thread-4| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:14:34,581] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:14:34,774] DEBUG |pool-1-thread-4| [ GeonamesLocationFinder        ] Found the country US for location [44.97725344, -93.26607877000001].
[2012-08-13 23:14:34,774] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 23:14:34,774] DEBUG |pool-1-thread-4| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"6b7dd834-0e4d-4f4f-b7ec-5195ce6b3119","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":30343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:34.130Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:34,774] DEBUG |pool-1-thread-4| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:14:34,774] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:14:34,891] DEBUG |pool-1-thread-4| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.71234 km] for location [44.97725344, -93.26607877000001].
[2012-08-13 23:14:34,892] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:14:34,892] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:14:34,892] DEBUG |pool-1-thread-4| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"6b7dd834-0e4d-4f4f-b7ec-5195ce6b3119","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":30343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:34.130Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:34,892] DEBUG |pool-1-thread-4| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:14:34,892] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:14:35,085] DEBUG |pool-1-thread-4| [ GeonamesLocationFinder        ] Found the country US for location [44.97725344, -93.26607877000001].
[2012-08-13 23:14:35,085] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 23:14:35,085] DEBUG |pool-1-thread-4| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"6b7dd834-0e4d-4f4f-b7ec-5195ce6b3119","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":30343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:34.130Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:35,086] DEBUG |pool-1-thread-4| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:14:35,086] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:14:35,278] DEBUG |pool-1-thread-4| [ GeonamesLocationFinder        ] Found the country US for location [44.97725344, -93.26607877000001].
[2012-08-13 23:14:35,278] DEBUG |pool-1-thread-4| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 23:14:35,278] DEBUG |pool-1-thread-4| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"6b7dd834-0e4d-4f4f-b7ec-5195ce6b3119","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":30343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:34.130Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:35,279] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:14:35,279] DEBUG |pool-1-thread-4| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:14:35,279] DEBUG |pool-1-thread-4| [ PsapNameDecorator             ] Responding to connect request with AP name global psap.
[2012-08-13 23:14:35,279] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"6b7dd834-0e4d-4f4f-b7ec-5195ce6b3119","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:35,280] DEBUG |bus-worker-21  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 6b7dd834-0e4d-4f4f-b7ec-5195ce6b3119.
[2012-08-13 23:14:35,280] DEBUG |bus-worker-21  | [ GuavaEventBus                 ] Invoking callback for: 6b7dd834-0e4d-4f4f-b7ec-5195ce6b3119.
[2012-08-13 23:14:35,280] DEBUG |bus-worker-21  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"6b7dd834-0e4d-4f4f-b7ec-5195ce6b3119","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}} => [id: 0x340ef0d8, /10.28.247.250:52255 => /10.28.120.11:8082]
[2012-08-13 23:14:35,282] DEBUG |bus-worker-21  | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 23:14:35,282] DEBUG |bus-worker-1   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"6b7dd834-0e4d-4f4f-b7ec-5195ce6b3119","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:14:35,282] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:14:35,282] DEBUG |pool-1-thread-9| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 96b9d2ac-2a8e-437b-879a-3774476ba579.
[2012-08-13 23:14:35,283] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:14:35,283] DEBUG |pool-1-thread-9| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:14:35,283] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:14:35,283] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:14:35,283] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:14:35,283] DEBUG |bus-worker-9   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"96b9d2ac-2a8e-437b-879a-3774476ba579","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":30343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:35.283Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:14:35,284] DEBUG |bus-worker-9   | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:14:35,284] INFO  |bus-worker-9   | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"96b9d2ac-2a8e-437b-879a-3774476ba579","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":30343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:35.283Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:14:35,284] DEBUG |bus-worker-9   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"96b9d2ac-2a8e-437b-879a-3774476ba579","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":30343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:14:35.283Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:14:35,285] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"6b7dd834-0e4d-4f4f-b7ec-5195ce6b3119","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":30343},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 23:14:35,290] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"96b9d2ac-2a8e-437b-879a-3774476ba579","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:14:35,290] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"96b9d2ac-2a8e-437b-879a-3774476ba579","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:14:35,291] DEBUG |bus-worker-7   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 96b9d2ac-2a8e-437b-879a-3774476ba579.
[2012-08-13 23:14:35,291] DEBUG |bus-worker-7   | [ GuavaEventBus                 ] Unable to match: 96b9d2ac-2a8e-437b-879a-3774476ba579.
[2012-08-13 23:14:35,291] DEBUG |bus-worker-14  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"96b9d2ac-2a8e-437b-879a-3774476ba579","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:25:55,923] DEBUG | I/O  worker #2| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}},[id: 0x340ef0d8, /10.28.247.250:52255 :> /10.28.120.11:8082].
[2012-08-13 23:25:55,924] DEBUG | I/O  worker #2| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 23:25:55,924] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:25:55,924] DEBUG |pool-1-thread-2| [ TimestampDecorator            ] Appending reception timestamp to message with uuid cde45403-efb3-4955-aae0-0a4bbca624f1.
[2012-08-13 23:25:55,924] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:25:55,924] DEBUG |pool-1-thread-2| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:25:55,925] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:25:55,925] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:25:55,925] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:25:55,925] DEBUG |bus-worker-5   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"cde45403-efb3-4955-aae0-0a4bbca624f1","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:25:55.924Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:25:55,925] DEBUG |bus-worker-10  | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:25:55,926] INFO  |bus-worker-18  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"cde45403-efb3-4955-aae0-0a4bbca624f1","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:25:55.924Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:25:55,926] DEBUG |bus-worker-18  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"cde45403-efb3-4955-aae0-0a4bbca624f1","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:25:55.924Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:25:55,927] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] disconnected([id: 0x340ef0d8, /10.28.247.250:52255 :> /10.28.120.11:8082])
[2012-08-13 23:25:55,932] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"cde45403-efb3-4955-aae0-0a4bbca624f1","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:25:55,932] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"cde45403-efb3-4955-aae0-0a4bbca624f1","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:25:55,932] DEBUG |bus-worker-26  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: cde45403-efb3-4955-aae0-0a4bbca624f1.
[2012-08-13 23:25:55,932] DEBUG |bus-worker-26  | [ GuavaEventBus                 ] Unable to match: cde45403-efb3-4955-aae0-0a4bbca624f1.
[2012-08-13 23:25:55,933] DEBUG |bus-worker-26  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"cde45403-efb3-4955-aae0-0a4bbca624f1","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:27:08,167] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] connected([id: 0x035b8be9, /10.28.247.250:4997 => /10.28.120.11:8082])
[2012-08-13 23:27:09,993] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] Created channel 12027380721-[id: 0x035b8be9, /10.28.247.250:4997 => /10.28.120.11:8082]
[2012-08-13 23:27:09,993] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:27:09,993] DEBUG |pool-1-thread-1| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 967398c5-8348-41bd-b1d8-b9719a6a93fb.
[2012-08-13 23:27:09,994] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:27:09,994] DEBUG |pool-1-thread-1| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:27:09,994] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:27:09,994] DEBUG |pool-1-thread-1| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 23:27:09,994] DEBUG |pool-1-thread-1| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:27:09,994] DEBUG |pool-1-thread-1| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:27:10,584] DEBUG |pool-1-thread-1| [ GeonamesLocationFinder        ] Found the country US for location [44.97725344, -93.26607877000001].
[2012-08-13 23:27:10,584] DEBUG |pool-1-thread-1| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 23:27:10,584] DEBUG |pool-1-thread-1| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"967398c5-8348-41bd-b1d8-b9719a6a93fb","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":785925},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:27:09.994Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:27:10,584] DEBUG |pool-1-thread-1| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:27:10,584] DEBUG |pool-1-thread-1| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"967398c5-8348-41bd-b1d8-b9719a6a93fb","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":785925},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:27:09.994Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:27:10,584] DEBUG |pool-1-thread-1| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:27:10,584] DEBUG |pool-1-thread-1| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:27:10,782] DEBUG |pool-1-thread-1| [ GeonamesLocationFinder        ] Found the country US for location [44.97725344, -93.26607877000001].
[2012-08-13 23:27:10,782] DEBUG |pool-1-thread-1| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 23:27:10,782] DEBUG |pool-1-thread-1| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"967398c5-8348-41bd-b1d8-b9719a6a93fb","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":785925},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:27:09.994Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:27:10,782] DEBUG |pool-1-thread-1| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:27:10,783] DEBUG |pool-1-thread-1| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:27:10,901] DEBUG |pool-1-thread-1| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.71234 km] for location [44.97725344, -93.26607877000001].
[2012-08-13 23:27:10,901] DEBUG |pool-1-thread-1| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:27:10,901] DEBUG |pool-1-thread-1| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:27:10,901] DEBUG |pool-1-thread-1| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"967398c5-8348-41bd-b1d8-b9719a6a93fb","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":785925},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:27:09.994Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:27:10,901] DEBUG |pool-1-thread-1| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:27:10,901] DEBUG |pool-1-thread-1| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:27:11,096] DEBUG |pool-1-thread-1| [ GeonamesLocationFinder        ] Found the country US for location [44.97725344, -93.26607877000001].
[2012-08-13 23:27:11,096] DEBUG |pool-1-thread-1| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 23:27:11,096] DEBUG |pool-1-thread-1| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"967398c5-8348-41bd-b1d8-b9719a6a93fb","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":785925},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:27:09.994Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:27:11,096] DEBUG |pool-1-thread-1| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:27:11,096] DEBUG |pool-1-thread-1| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97725344, longitude=-93.26607877000001, accuracy=48.0})
[2012-08-13 23:27:11,287] DEBUG |pool-1-thread-1| [ GeonamesLocationFinder        ] Found the country US for location [44.97725344, -93.26607877000001].
[2012-08-13 23:27:11,287] DEBUG |pool-1-thread-1| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 23:27:11,287] DEBUG |pool-1-thread-1| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"967398c5-8348-41bd-b1d8-b9719a6a93fb","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":785925},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:27:09.994Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:27:11,288] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:27:11,288] DEBUG |pool-1-thread-1| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:27:11,288] DEBUG |pool-1-thread-1| [ PsapNameDecorator             ] Responding to connect request with AP name global psap.
[2012-08-13 23:27:11,289] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"967398c5-8348-41bd-b1d8-b9719a6a93fb","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:27:11,289] DEBUG |bus-worker-1   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 967398c5-8348-41bd-b1d8-b9719a6a93fb.
[2012-08-13 23:27:11,289] DEBUG |bus-worker-1   | [ GuavaEventBus                 ] Invoking callback for: 967398c5-8348-41bd-b1d8-b9719a6a93fb.
[2012-08-13 23:27:11,289] DEBUG |bus-worker-1   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"967398c5-8348-41bd-b1d8-b9719a6a93fb","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}} => [id: 0x035b8be9, /10.28.247.250:4997 => /10.28.120.11:8082]
[2012-08-13 23:27:11,290] DEBUG |bus-worker-1   | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 23:27:11,290] DEBUG |bus-worker-30  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"967398c5-8348-41bd-b1d8-b9719a6a93fb","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:27:11,291] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:27:11,291] DEBUG |pool-1-thread-6| [ TimestampDecorator            ] Appending reception timestamp to message with uuid e60b10f3-c53e-4f1e-b275-c2babf164aea.
[2012-08-13 23:27:11,292] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:27:11,292] DEBUG |pool-1-thread-6| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:27:11,292] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:27:11,292] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:27:11,292] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:27:11,292] DEBUG |bus-worker-16  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"e60b10f3-c53e-4f1e-b275-c2babf164aea","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":785925},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:27:11.291Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:27:11,292] DEBUG |bus-worker-3   | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:27:11,293] INFO  |bus-worker-17  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"e60b10f3-c53e-4f1e-b275-c2babf164aea","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":785925},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:27:11.291Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:27:11,293] DEBUG |bus-worker-17  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"e60b10f3-c53e-4f1e-b275-c2babf164aea","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":785925},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:27:11.291Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:27:11,294] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"967398c5-8348-41bd-b1d8-b9719a6a93fb","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26607877000001,"latitude":44.97725344,"accuracy":48.0,"age":785925},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 23:27:11,299] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"e60b10f3-c53e-4f1e-b275-c2babf164aea","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:27:11,299] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"e60b10f3-c53e-4f1e-b275-c2babf164aea","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:27:11,299] DEBUG |bus-worker-7   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: e60b10f3-c53e-4f1e-b275-c2babf164aea.
[2012-08-13 23:27:11,300] DEBUG |bus-worker-7   | [ GuavaEventBus                 ] Unable to match: e60b10f3-c53e-4f1e-b275-c2babf164aea.
[2012-08-13 23:27:11,299] DEBUG |bus-worker-14  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"e60b10f3-c53e-4f1e-b275-c2babf164aea","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:37:11,342] DEBUG | I/O  worker #1| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}},[id: 0x035b8be9, /10.28.247.250:4997 :> /10.28.120.11:8082].
[2012-08-13 23:37:11,342] DEBUG | I/O  worker #1| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 23:37:11,342] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:37:11,342] DEBUG |ool-1-thread-10| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 83b7c389-b354-42d1-8e8a-26a5802a08c2.
[2012-08-13 23:37:11,343] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:37:11,343] DEBUG |ool-1-thread-10| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:37:11,343] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:37:11,343] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:37:11,343] DEBUG |ool-1-thread-10| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:37:11,343] DEBUG |bus-worker-10  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"83b7c389-b354-42d1-8e8a-26a5802a08c2","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:11.342Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:37:11,344] DEBUG |bus-worker-22  | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:37:11,344] INFO  |bus-worker-25  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"83b7c389-b354-42d1-8e8a-26a5802a08c2","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:11.342Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:37:11,344] DEBUG |bus-worker-25  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"83b7c389-b354-42d1-8e8a-26a5802a08c2","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:11.342Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:37:11,345] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] disconnected([id: 0x035b8be9, /10.28.247.250:4997 :> /10.28.120.11:8082])
[2012-08-13 23:37:11,349] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"83b7c389-b354-42d1-8e8a-26a5802a08c2","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:37:11,350] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"83b7c389-b354-42d1-8e8a-26a5802a08c2","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:37:11,350] DEBUG |bus-worker-11  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 83b7c389-b354-42d1-8e8a-26a5802a08c2.
[2012-08-13 23:37:11,350] DEBUG |bus-worker-11  | [ GuavaEventBus                 ] Unable to match: 83b7c389-b354-42d1-8e8a-26a5802a08c2.
[2012-08-13 23:37:11,350] DEBUG |bus-worker-21  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"83b7c389-b354-42d1-8e8a-26a5802a08c2","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:37:11,891] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] connected([id: 0x3304e84f, /10.28.247.250:3347 => /10.28.120.11:8082])
[2012-08-13 23:37:13,705] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] Created channel 12027380721-[id: 0x3304e84f, /10.28.247.250:3347 => /10.28.120.11:8082]
[2012-08-13 23:37:13,705] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:37:13,705] DEBUG |pool-1-thread-5| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 6111bb86-3fb0-44e5-b64e-291289c124f4.
[2012-08-13 23:37:13,706] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:37:13,706] DEBUG |pool-1-thread-5| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:37:13,706] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:37:13,706] DEBUG |pool-1-thread-5| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 23:37:13,706] DEBUG |pool-1-thread-5| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:37:13,706] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713349, longitude=-93.26592783000001, accuracy=42.0})
[2012-08-13 23:37:14,193] DEBUG |pool-1-thread-5| [ GeonamesLocationFinder        ] Found the country US for location [44.97713349, -93.26592783000001].
[2012-08-13 23:37:14,194] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 23:37:14,194] DEBUG |pool-1-thread-5| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"6111bb86-3fb0-44e5-b64e-291289c124f4","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":2196},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:13.706Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:37:14,194] DEBUG |pool-1-thread-5| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:37:14,194] DEBUG |pool-1-thread-5| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"6111bb86-3fb0-44e5-b64e-291289c124f4","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":2196},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:13.706Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:37:14,194] DEBUG |pool-1-thread-5| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:37:14,194] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713349, longitude=-93.26592783000001, accuracy=42.0})
[2012-08-13 23:37:14,390] DEBUG |pool-1-thread-5| [ GeonamesLocationFinder        ] Found the country US for location [44.97713349, -93.26592783000001].
[2012-08-13 23:37:14,390] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 23:37:14,391] DEBUG |pool-1-thread-5| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"6111bb86-3fb0-44e5-b64e-291289c124f4","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":2196},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:13.706Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:37:14,391] DEBUG |pool-1-thread-5| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:37:14,391] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97713349, longitude=-93.26592783000001, accuracy=42.0})
[2012-08-13 23:37:14,508] DEBUG |pool-1-thread-5| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.72818 km] for location [44.97713349, -93.26592783000001].
[2012-08-13 23:37:14,508] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:37:14,508] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:37:14,508] DEBUG |pool-1-thread-5| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"6111bb86-3fb0-44e5-b64e-291289c124f4","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":2196},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:13.706Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:37:14,508] DEBUG |pool-1-thread-5| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:37:14,508] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713349, longitude=-93.26592783000001, accuracy=42.0})
[2012-08-13 23:37:14,698] DEBUG |pool-1-thread-5| [ GeonamesLocationFinder        ] Found the country US for location [44.97713349, -93.26592783000001].
[2012-08-13 23:37:14,698] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 23:37:14,698] DEBUG |pool-1-thread-5| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"6111bb86-3fb0-44e5-b64e-291289c124f4","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":2196},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:13.706Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:37:14,699] DEBUG |pool-1-thread-5| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:37:14,699] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713349, longitude=-93.26592783000001, accuracy=42.0})
[2012-08-13 23:37:14,891] DEBUG |pool-1-thread-5| [ GeonamesLocationFinder        ] Found the country US for location [44.97713349, -93.26592783000001].
[2012-08-13 23:37:14,891] DEBUG |pool-1-thread-5| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 23:37:14,892] DEBUG |pool-1-thread-5| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"6111bb86-3fb0-44e5-b64e-291289c124f4","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":2196},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:13.706Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:37:14,892] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:37:14,892] DEBUG |pool-1-thread-5| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:37:14,892] DEBUG |pool-1-thread-5| [ PsapNameDecorator             ] Responding to connect request with AP name global psap.
[2012-08-13 23:37:14,893] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"6111bb86-3fb0-44e5-b64e-291289c124f4","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:37:14,893] DEBUG |bus-worker-30  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 6111bb86-3fb0-44e5-b64e-291289c124f4.
[2012-08-13 23:37:14,893] DEBUG |bus-worker-30  | [ GuavaEventBus                 ] Invoking callback for: 6111bb86-3fb0-44e5-b64e-291289c124f4.
[2012-08-13 23:37:14,893] DEBUG |bus-worker-30  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"6111bb86-3fb0-44e5-b64e-291289c124f4","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}} => [id: 0x3304e84f, /10.28.247.250:3347 => /10.28.120.11:8082]
[2012-08-13 23:37:14,894] DEBUG |bus-worker-30  | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 23:37:14,894] DEBUG |bus-worker-2   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"6111bb86-3fb0-44e5-b64e-291289c124f4","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:37:14,895] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:37:14,895] DEBUG |pool-1-thread-3| [ TimestampDecorator            ] Appending reception timestamp to message with uuid babc459c-d54d-42ab-8916-d653de5a9ddb.
[2012-08-13 23:37:14,896] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:37:14,896] DEBUG |pool-1-thread-3| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:37:14,896] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:37:14,896] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:37:14,896] DEBUG |pool-1-thread-3| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:37:14,896] DEBUG |bus-worker-27  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"babc459c-d54d-42ab-8916-d653de5a9ddb","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":2196},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:14.895Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:37:14,897] DEBUG |bus-worker-23  | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:37:14,897] INFO  |bus-worker-9   | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"babc459c-d54d-42ab-8916-d653de5a9ddb","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":2196},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:14.895Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:37:14,897] DEBUG |bus-worker-9   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"babc459c-d54d-42ab-8916-d653de5a9ddb","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":2196},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:14.895Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:37:14,898] DEBUG |pool-1-thread-5| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"6111bb86-3fb0-44e5-b64e-291289c124f4","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":2196},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 23:37:14,903] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"babc459c-d54d-42ab-8916-d653de5a9ddb","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:37:14,903] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"babc459c-d54d-42ab-8916-d653de5a9ddb","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:37:14,903] DEBUG |bus-worker-7   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: babc459c-d54d-42ab-8916-d653de5a9ddb.
[2012-08-13 23:37:14,904] DEBUG |bus-worker-7   | [ GuavaEventBus                 ] Unable to match: babc459c-d54d-42ab-8916-d653de5a9ddb.
[2012-08-13 23:37:14,903] DEBUG |bus-worker-14  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"babc459c-d54d-42ab-8916-d653de5a9ddb","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:37:15,563] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:37:15,563] DEBUG |pool-1-thread-7| [ TimestampDecorator            ] Appending reception timestamp to message with uuid b81b10f7-21ce-47bb-b020-ad9d8ceb7426.
[2012-08-13 23:37:15,565] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:37:15,565] DEBUG |pool-1-thread-7| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:37:15,565] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:37:15,566] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 23:37:15,566] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:37:15,566] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713349, longitude=-93.26592783000001, accuracy=42.0})
[2012-08-13 23:37:15,761] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country US for location [44.97713349, -93.26592783000001].
[2012-08-13 23:37:15,761] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 23:37:15,761] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"b81b10f7-21ce-47bb-b020-ad9d8ceb7426","params":{"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":3938},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:15.565Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:37:15,761] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:37:15,762] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"b81b10f7-21ce-47bb-b020-ad9d8ceb7426","params":{"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":3938},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:15.565Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:37:15,762] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:37:15,762] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713349, longitude=-93.26592783000001, accuracy=42.0})
[2012-08-13 23:37:15,955] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country US for location [44.97713349, -93.26592783000001].
[2012-08-13 23:37:15,955] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 23:37:15,955] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"b81b10f7-21ce-47bb-b020-ad9d8ceb7426","params":{"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":3938},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:15.565Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:37:15,955] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:37:15,956] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97713349, longitude=-93.26592783000001, accuracy=42.0})
[2012-08-13 23:37:16,074] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.72818 km] for location [44.97713349, -93.26592783000001].
[2012-08-13 23:37:16,074] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:37:16,074] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:37:16,074] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"b81b10f7-21ce-47bb-b020-ad9d8ceb7426","params":{"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":3938},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:15.565Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:37:16,074] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:37:16,074] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713349, longitude=-93.26592783000001, accuracy=42.0})
[2012-08-13 23:37:16,269] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country US for location [44.97713349, -93.26592783000001].
[2012-08-13 23:37:16,269] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 23:37:16,269] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"b81b10f7-21ce-47bb-b020-ad9d8ceb7426","params":{"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":3938},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:15.565Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:37:16,269] DEBUG |pool-1-thread-7| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:37:16,269] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713349, longitude=-93.26592783000001, accuracy=42.0})
[2012-08-13 23:37:16,458] DEBUG |pool-1-thread-7| [ GeonamesLocationFinder        ] Found the country US for location [44.97713349, -93.26592783000001].
[2012-08-13 23:37:16,458] DEBUG |pool-1-thread-7| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 23:37:16,458] DEBUG |pool-1-thread-7| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"b81b10f7-21ce-47bb-b020-ad9d8ceb7426","params":{"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":3938},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:15.565Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:37:16,459] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:37:16,459] DEBUG |pool-1-thread-7| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:37:16,459] DEBUG |bus-worker-22  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"b81b10f7-21ce-47bb-b020-ad9d8ceb7426","params":{"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":3938},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:15.565Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:37:16,460] INFO  |bus-worker-29  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"b81b10f7-21ce-47bb-b020-ad9d8ceb7426","params":{"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":3938},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:15.565Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:37:16,461] DEBUG |bus-worker-29  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"b81b10f7-21ce-47bb-b020-ad9d8ceb7426","params":{"location":{"longitude":-93.26592783000001,"latitude":44.97713349,"accuracy":42.0,"age":3938},"personal_info":{"full_name":"Val","gender":"Female","home_address":"Test Mpls","birth_year":"1978-08-27","blood_type":"Don't know","ice_numbers":["ICE: 515-681-2323  515-681-2323"],"language":"en","used_medicines":"","medical_conditions":["None"],"other_information":["None"]},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:37:15.565Z"},"method":"pre_alarm"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:37:16,470] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"b81b10f7-21ce-47bb-b020-ad9d8ceb7426","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:37:16,471] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"b81b10f7-21ce-47bb-b020-ad9d8ceb7426","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:37:16,471] DEBUG |bus-worker-21  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: b81b10f7-21ce-47bb-b020-ad9d8ceb7426.
[2012-08-13 23:37:16,471] DEBUG |bus-worker-21  | [ GuavaEventBus                 ] Invoking callback for: b81b10f7-21ce-47bb-b020-ad9d8ceb7426.
[2012-08-13 23:37:16,472] DEBUG |bus-worker-21  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"b81b10f7-21ce-47bb-b020-ad9d8ceb7426","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"} => [id: 0x3304e84f, /10.28.247.250:3347 => /10.28.120.11:8082]
[2012-08-13 23:37:16,472] DEBUG |bus-worker-21  | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 23:37:16,471] DEBUG |bus-worker-1   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"b81b10f7-21ce-47bb-b020-ad9d8ceb7426","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:40:40,921] DEBUG | I/O  worker #2| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}},[id: 0x3304e84f, /10.28.247.250:3347 :> /10.28.120.11:8082].
[2012-08-13 23:40:40,921] DEBUG | I/O  worker #2| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 23:40:40,921] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:40:40,921] DEBUG |pool-1-thread-8| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 6a4de2d1-a965-4502-9859-108209a5aec6.
[2012-08-13 23:40:40,922] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:40:40,922] DEBUG |pool-1-thread-8| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:40:40,922] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:40:40,922] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:40:40,922] DEBUG |pool-1-thread-8| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:40:40,923] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] disconnected([id: 0x3304e84f, /10.28.247.250:3347 :> /10.28.120.11:8082])
[2012-08-13 23:40:40,923] DEBUG |bus-worker-2   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"6a4de2d1-a965-4502-9859-108209a5aec6","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:40:40.922Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:40:40,923] DEBUG |bus-worker-16  | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:40:40,924] INFO  |bus-worker-6   | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"6a4de2d1-a965-4502-9859-108209a5aec6","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:40:40.922Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:40:40,924] DEBUG |bus-worker-6   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"6a4de2d1-a965-4502-9859-108209a5aec6","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:40:40.922Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:40:40,929] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"6a4de2d1-a965-4502-9859-108209a5aec6","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:40:40,929] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"6a4de2d1-a965-4502-9859-108209a5aec6","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:40:40,929] DEBUG |bus-worker-20  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 6a4de2d1-a965-4502-9859-108209a5aec6.
[2012-08-13 23:40:40,930] DEBUG |bus-worker-20  | [ GuavaEventBus                 ] Unable to match: 6a4de2d1-a965-4502-9859-108209a5aec6.
[2012-08-13 23:40:40,930] DEBUG |bus-worker-5   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"6a4de2d1-a965-4502-9859-108209a5aec6","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:43:51,120] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] connected([id: 0x5d6d197b, /10.28.247.250:10082 => /10.28.120.11:8082])
[2012-08-13 23:43:52,979] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] Created channel 12027380721-[id: 0x5d6d197b, /10.28.247.250:10082 => /10.28.120.11:8082]
[2012-08-13 23:43:52,979] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:43:52,979] DEBUG |pool-1-thread-9| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 2ad90753-645f-4dc7-bccc-b60132f772d5.
[2012-08-13 23:43:52,980] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:43:52,980] DEBUG |pool-1-thread-9| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:43:52,980] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:43:52,980] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 23:43:52,980] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:43:52,981] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:43:53,589] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:43:53,590] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 23:43:53,590] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"2ad90753-645f-4dc7-bccc-b60132f772d5","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2919},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:43:52.980Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:43:53,590] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:43:53,590] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"2ad90753-645f-4dc7-bccc-b60132f772d5","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2919},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:43:52.980Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:43:53,590] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:43:53,590] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:43:53,779] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:43:53,779] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 23:43:53,779] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"2ad90753-645f-4dc7-bccc-b60132f772d5","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2919},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:43:52.980Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:43:53,779] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:43:53,779] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:43:54,891] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.7118 km] for location [44.97726045, -93.26606718000001].
[2012-08-13 23:43:54,891] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:43:54,891] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:43:54,891] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"2ad90753-645f-4dc7-bccc-b60132f772d5","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2919},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:43:52.980Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:43:54,892] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:43:54,892] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:43:55,082] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:43:55,082] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 23:43:55,083] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"2ad90753-645f-4dc7-bccc-b60132f772d5","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2919},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:43:52.980Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:43:55,083] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:43:55,083] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97726045, longitude=-93.26606718000001, accuracy=47.0})
[2012-08-13 23:43:55,276] DEBUG |pool-1-thread-9| [ GeonamesLocationFinder        ] Found the country US for location [44.97726045, -93.26606718000001].
[2012-08-13 23:43:55,276] DEBUG |pool-1-thread-9| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 23:43:55,277] DEBUG |pool-1-thread-9| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"2ad90753-645f-4dc7-bccc-b60132f772d5","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2919},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:43:52.980Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:43:55,277] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:43:55,277] DEBUG |pool-1-thread-9| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:43:55,277] DEBUG |pool-1-thread-9| [ PsapNameDecorator             ] Responding to connect request with AP name global psap.
[2012-08-13 23:43:55,278] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"2ad90753-645f-4dc7-bccc-b60132f772d5","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:43:55,278] DEBUG |bus-worker-7   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 2ad90753-645f-4dc7-bccc-b60132f772d5.
[2012-08-13 23:43:55,278] DEBUG |bus-worker-7   | [ GuavaEventBus                 ] Invoking callback for: 2ad90753-645f-4dc7-bccc-b60132f772d5.
[2012-08-13 23:43:55,279] DEBUG |bus-worker-7   | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"2ad90753-645f-4dc7-bccc-b60132f772d5","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}} => [id: 0x5d6d197b, /10.28.247.250:10082 => /10.28.120.11:8082]
[2012-08-13 23:43:55,279] DEBUG |bus-worker-7   | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 23:43:55,279] DEBUG |bus-worker-14  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"2ad90753-645f-4dc7-bccc-b60132f772d5","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:43:55,280] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:43:55,280] DEBUG |pool-1-thread-4| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 1e8a56fc-df6a-424c-abf5-16631cd115be.
[2012-08-13 23:43:55,281] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:43:55,281] DEBUG |pool-1-thread-4| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:43:55,281] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:43:55,281] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:43:55,281] DEBUG |pool-1-thread-4| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:43:55,281] DEBUG |bus-worker-12  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"1e8a56fc-df6a-424c-abf5-16631cd115be","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2919},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:43:55.280Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:43:55,281] DEBUG |bus-worker-12  | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:43:55,282] INFO  |bus-worker-12  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"1e8a56fc-df6a-424c-abf5-16631cd115be","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2919},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:43:55.280Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:43:55,282] DEBUG |bus-worker-12  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"1e8a56fc-df6a-424c-abf5-16631cd115be","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2919},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:43:55.280Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:43:55,283] DEBUG |pool-1-thread-9| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"2ad90753-645f-4dc7-bccc-b60132f772d5","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26606718000001,"latitude":44.97726045,"accuracy":47.0,"age":2919},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 23:43:55,288] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"1e8a56fc-df6a-424c-abf5-16631cd115be","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:43:55,288] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"1e8a56fc-df6a-424c-abf5-16631cd115be","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:43:55,288] DEBUG |bus-worker-21  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 1e8a56fc-df6a-424c-abf5-16631cd115be.
[2012-08-13 23:43:55,288] DEBUG |bus-worker-21  | [ GuavaEventBus                 ] Unable to match: 1e8a56fc-df6a-424c-abf5-16631cd115be.
[2012-08-13 23:43:55,288] DEBUG |bus-worker-1   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"1e8a56fc-df6a-424c-abf5-16631cd115be","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:45:20,355] DEBUG | I/O  worker #1| [ KeyBasedChannelGroup          ] Removed EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}},[id: 0x5d6d197b, /10.28.247.250:10082 :> /10.28.120.11:8082].
[2012-08-13 23:45:20,356] DEBUG | I/O  worker #1| [ JacksonJsonRpc20PayloadBuilder] No session set. Using route.source as session.
[2012-08-13 23:45:20,356] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:45:20,356] DEBUG |pool-1-thread-2| [ TimestampDecorator            ] Appending reception timestamp to message with uuid c5559483-bc06-40a4-bc57-7cdd51b2ff5b.
[2012-08-13 23:45:20,356] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:45:20,357] DEBUG |pool-1-thread-2| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:45:20,357] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:45:20,357] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:45:20,357] DEBUG |pool-1-thread-2| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:45:20,357] DEBUG |bus-worker-16  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"c5559483-bc06-40a4-bc57-7cdd51b2ff5b","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:45:20.356Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:45:20,358] DEBUG |bus-worker-27  | [ ConnectionsMessageFilter      ] Received disconnect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:45:20,358] INFO  |bus-worker-17  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"c5559483-bc06-40a4-bc57-7cdd51b2ff5b","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:45:20.356Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:45:20,358] DEBUG |bus-worker-17  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"c5559483-bc06-40a4-bc57-7cdd51b2ff5b","params":{"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:45:20.356Z"},"method":"disconnect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:45:20,359] DEBUG | I/O  worker #1| [ ClientWebSocketEndPoint       ] disconnected([id: 0x5d6d197b, /10.28.247.250:10082 :> /10.28.120.11:8082])
[2012-08-13 23:45:20,363] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"c5559483-bc06-40a4-bc57-7cdd51b2ff5b","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:45:20,364] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"c5559483-bc06-40a4-bc57-7cdd51b2ff5b","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:45:20,364] DEBUG |bus-worker-5   | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: c5559483-bc06-40a4-bc57-7cdd51b2ff5b.
[2012-08-13 23:45:20,364] DEBUG |bus-worker-5   | [ GuavaEventBus                 ] Unable to match: c5559483-bc06-40a4-bc57-7cdd51b2ff5b.
[2012-08-13 23:45:20,365] DEBUG |bus-worker-10  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"c5559483-bc06-40a4-bc57-7cdd51b2ff5b","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:45:20,621] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] connected([id: 0x77bd0897, /10.28.247.250:32415 => /10.28.120.11:8082])
[2012-08-13 23:45:22,044] DEBUG | I/O  worker #2| [ ClientWebSocketEndPoint       ] Created channel 12027380721-[id: 0x77bd0897, /10.28.247.250:32415 => /10.28.120.11:8082]
[2012-08-13 23:45:22,044] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:45:22,044] DEBUG |pool-1-thread-6| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 3065a2e5-c896-43de-8d76-5dbbf8e985f2.
[2012-08-13 23:45:22,045] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:45:22,045] DEBUG |pool-1-thread-6| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:45:22,045] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:45:22,045] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Found 6 psap(s)
[2012-08-13 23:45:22,045] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:45:22,045] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713092, longitude=-93.26597413000002, accuracy=42.0})
[2012-08-13 23:45:22,334] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the country US for location [44.97713092, -93.26597413000002].
[2012-08-13 23:45:22,334] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching SE with US
[2012-08-13 23:45:22,334] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'sweden' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"3065a2e5-c896-43de-8d76-5dbbf8e985f2","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":2125},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:45:22.044Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:45:22,334] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:45:22,334] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'worldwide' has jurisdiction for {"payload":{"jsonrpc":"2.0","id":"3065a2e5-c896-43de-8d76-5dbbf8e985f2","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":2125},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:45:22.044Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:45:22,334] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:45:22,334] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713092, longitude=-93.26597413000002, accuracy=42.0})
[2012-08-13 23:45:22,526] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the country US for location [44.97713092, -93.26597413000002].
[2012-08-13 23:45:22,526] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching IT with US
[2012-08-13 23:45:22,526] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'italy-eni' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"3065a2e5-c896-43de-8d76-5dbbf8e985f2","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":2125},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:45:22.044Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:45:22,526] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:45:22,527] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByState(Location{latitude=44.97713092, longitude=-93.26597413000002, accuracy=42.0})
[2012-08-13 23:45:22,646] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the postal codes [55415 (Minneapolis): 0.0 km, 55401 (Minneapolis): 0.72756 km] for location [44.97713092, -93.26597413000002].
[2012-08-13 23:45:22,646] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:45:22,646] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching PUE with MN
[2012-08-13 23:45:22,646] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'puebla' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"3065a2e5-c896-43de-8d76-5dbbf8e985f2","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":2125},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:45:22.044Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:45:22,646] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:45:22,647] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713092, longitude=-93.26597413000002, accuracy=42.0})
[2012-08-13 23:45:22,839] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the country US for location [44.97713092, -93.26597413000002].
[2012-08-13 23:45:22,839] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching PH with US
[2012-08-13 23:45:22,839] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'philippines' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"3065a2e5-c896-43de-8d76-5dbbf8e985f2","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":2125},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:45:22.044Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:45:22,839] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:45:22,839] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] matchByCountry(Location{latitude=44.97713092, longitude=-93.26597413000002, accuracy=42.0})
[2012-08-13 23:45:23,031] DEBUG |pool-1-thread-6| [ GeonamesLocationFinder        ] Found the country US for location [44.97713092, -93.26597413000002].
[2012-08-13 23:45:23,031] DEBUG |pool-1-thread-6| [ GeonamesJurisdiction          ] Matching ES with US
[2012-08-13 23:45:23,031] DEBUG |pool-1-thread-6| [ PsapFinderImpl                ] Psap 'spain' does not have jurisdiction for {"payload":{"jsonrpc":"2.0","id":"3065a2e5-c896-43de-8d76-5dbbf8e985f2","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":2125},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:45:22.044Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:45:23,032] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:45:23,032] DEBUG |pool-1-thread-6| [ FsPsapRepository              ] [sweden, worldwide, italy-eni, puebla, philippines, spain]
[2012-08-13 23:45:23,032] DEBUG |pool-1-thread-6| [ PsapNameDecorator             ] Responding to connect request with AP name global psap.
[2012-08-13 23:45:23,032] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"3065a2e5-c896-43de-8d76-5dbbf8e985f2","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:45:23,032] DEBUG |bus-worker-14  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 3065a2e5-c896-43de-8d76-5dbbf8e985f2.
[2012-08-13 23:45:23,033] DEBUG |bus-worker-14  | [ GuavaEventBus                 ] Invoking callback for: 3065a2e5-c896-43de-8d76-5dbbf8e985f2.
[2012-08-13 23:45:23,033] DEBUG |bus-worker-14  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"3065a2e5-c896-43de-8d76-5dbbf8e985f2","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}} => [id: 0x77bd0897, /10.28.247.250:32415 => /10.28.120.11:8082]
[2012-08-13 23:45:23,034] DEBUG |bus-worker-14  | [ ClientWebSocketEndPoint       ] Wrote response payload to 12027380721: true.
[2012-08-13 23:45:23,034] DEBUG |bus-worker-22  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"3065a2e5-c896-43de-8d76-5dbbf8e985f2","result":{"ap":{"name":"global psap"}}},"protocol_version":"1.1","route":{"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"},"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}
[2012-08-13 23:45:23,034] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TimestampDecorator
[2012-08-13 23:45:23,035] DEBUG |pool-1-thread-1| [ TimestampDecorator            ] Appending reception timestamp to message with uuid 418a0b9e-16f8-4954-afff-cfff87de986d.
[2012-08-13 23:45:23,035] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter MinimalVersionChecker
[2012-08-13 23:45:23,035] DEBUG |pool-1-thread-1| [ MinimalVersionChecker         ] handle() 1.1
[2012-08-13 23:45:23,035] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TargetRouteMessageDecorator
[2012-08-13 23:45:23,035] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter PsapNameDecorator
[2012-08-13 23:45:23,035] DEBUG |pool-1-thread-1| [ GuavaEventBus                 ] Invoking filter TranslationDecorator
[2012-08-13 23:45:23,036] DEBUG |bus-worker-24  | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"418a0b9e-16f8-4954-afff-cfff87de986d","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":2125},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:45:23.035Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}}
[2012-08-13 23:45:23,036] DEBUG |bus-worker-15  | [ ConnectionsMessageFilter      ] Received connect from EndPoint{type='app', id=ID{type='msisdn', value='12027380721'}}
[2012-08-13 23:45:23,037] INFO  |bus-worker-30  | [ PsapWebSocketEndPoint         ] handle({"payload":{"jsonrpc":"2.0","id":"418a0b9e-16f8-4954-afff-cfff87de986d","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":2125},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:45:23.035Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}})
[2012-08-13 23:45:23,037] DEBUG |bus-worker-30  | [ KeyBasedChannelGroup          ] Writing {"payload":{"jsonrpc":"2.0","id":"418a0b9e-16f8-4954-afff-cfff87de986d","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":2125},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"received_at":"2012-08-13T23:45:23.035Z"},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"target":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}}} => [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083]
[2012-08-13 23:45:23,038] DEBUG |pool-1-thread-6| [ GuavaEventBus                 ] Message DefaultMessage{payload=JacksonPayload{"payload":{"jsonrpc":"2.0","id":"3065a2e5-c896-43de-8d76-5dbbf8e985f2","params":{"device_info":{"model":"DROIDX","device_id":"A0000022F38DD8"},"version":{"version_name":"1.0","version_code":4},"location":{"longitude":-93.26597413000002,"latitude":44.97713092,"accuracy":42.0,"age":2125},"session":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}},"method":"connect"},"protocol_version":"1.1","route":{"source":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"}}}, origin=APP} will not be posted to bus
[2012-08-13 23:45:23,045] DEBUG | I/O  worker #3| [ PsapWebSocketEndPoint         ] Received "{"payload":{"jsonrpc":"2.0","id":"418a0b9e-16f8-4954-afff-cfff87de986d","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}" on channel [id: 0x230e2610, /10.28.247.250:21664 => /10.28.120.11:8083].
[2012-08-13 23:45:23,045] DEBUG | I/O  worker #3| [ GuavaEventBus                 ] publish(): {"payload":{"jsonrpc":"2.0","id":"418a0b9e-16f8-4954-afff-cfff87de986d","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
[2012-08-13 23:45:23,045] DEBUG |bus-worker-21  | [ GuavaEventBus                 ] Got Response payload, trying to match uuid: 418a0b9e-16f8-4954-afff-cfff87de986d.
[2012-08-13 23:45:23,046] DEBUG |bus-worker-21  | [ GuavaEventBus                 ] Unable to match: 418a0b9e-16f8-4954-afff-cfff87de986d.
[2012-08-13 23:45:23,045] DEBUG |bus-worker-1   | [ Slf4jBusSubscriber            ] {"payload":{"jsonrpc":"2.0","id":"418a0b9e-16f8-4954-afff-cfff87de986d","result":1},"route":{"target":{"id":{"type":"msisdn","value":"12027380721"},"type":"app"},"source":{"id":{"type":"psap_id","value":"worldwide"},"type":"ap"}},"protocol_version":"1.1"}
